



 <!-- 태그 라이브러리 설정 -->
 <!-- 태그 라이브러리 설정 -->





<!DOCTYPE HTML>
<html lang="ko">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <meta name="keyword" content="">  
        <meta http-equiv="Expires" content="-1"> 
        <meta http-equiv="Pragma" content="no-cache"> 
        <meta http-equiv="Cache-Control" content="No-Cache">
        
<!--         <meta property="og:url" content="http://epts.kdi.re.kr"> -->
<!-- 		<meta property="og:title" content="경제경제 시계열서비스"> -->
<!-- 		<meta property="og:image" content="/resources/images/cms/cms_login.png"> -->
<!-- 		<meta property="og:description" content="경제경제 시계열서비스"> -->
<!-- 		<meta name="description" content="경제경제 시계열서비스">  -->

        <title>
            경제정책 시계열서비스
            
                |  정책시계열서비스 | 주제별보기



            
            
        </title>
        
        <script type="text/javascript" src="/resources/jslb/font/webfont.js"></script>
        <script type="text/javascript">
        WebFont.load({
            custom: {
                families: ['Nanum Barun Gothic'],
                urls: ['/resources/css/common.css']
            }
        });
        </script>
        
        <link rel="shortcut icon" href="/resources/images/favicon.ico">
	 
		<!--[if lt IE 9]>
		    <script src="/resources/jslb/html5shiv.js"></script>
		<![endif]-->
		<link href="/resources/css/bootstrap.css" rel="stylesheet">
		<link href="/resources/css/bootstrap/bootstrap-datepicker.css" rel="stylesheet">
		<link href="/resources/css/jquery.mCustomScrollbar.css" rel="stylesheet">
		
		<link href="/resources/css/style.css" rel="stylesheet">
		
		
            
			        <link href="/resources/css/timeline.css" rel="stylesheet">
			        <link href="/resources/css/infographic.css" rel="stylesheet">
			        
                
		
		
		<script type="text/javascript" src="/resources/jslb/snsCommon.js"></script>
		<script type="text/javascript" src="/resources/jslb/jquery/jquery.min.js"></script>
		<script type="text/javascript" src="/resources/jslb/bootstrap/bootstrap.min.js"></script>
		<script type="text/javascript" src="/resources/jslb/bootstrap/bootstrap-datepicker.js"></script>
		<script type="text/javascript" src="/resources/jslb/bootstrap/bootstrap-datepicker-kr.js"></script>
		<script type="text/javascript" src="/resources/jslb/jquery.mCustomScrollbar.concat.min.js"></script>
		<script type="text/javascript" src="/resources/jslb/validateCommon.js"></script>
		<!-- 2021.09.27 장찬양 - 대외원조수원  -->
		<script type="text/javascript" src="/resources/jslb/foreign.js"></script>
		<script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>
		
		<script type="text/javascript">
		    $(document).ready(function() {
		        $('[data-toggle="tooltip"]').tooltip();
		        $(".faq_board").find("a").click(function(){
		            $(".faq_board").find("li").removeClass("on");
		            $(this).parents("li").addClass("on");
		        });
			});
		</script>
		
    </head>
    
    <body>
	    <!-- header -->
        


<script type="text/javascript" src="/resources/jslb/headerMenu.js"></script>

<script>
	
	function healthcheck() {
		setInterval(function(){
			$.ajax({
				type: 'GET'
				, url: '/healthcheck.jsp'
				, cache: false
				, success: function(response) {
					console.log("");
				}
				, error:function(request,status,error){
			        console.log("code = "+ request.status + " message = " + request.responseText + " error = " + error);
				}
			});
		}, 480000);
	}
	
	function fnLogout() {
		$.ajax({
			type: 'GET',
			url: '/myPage/getLoginYn',
			cache: false,
			success: function(response) {
				if(response) {
					$('#logoutForm').submit();
				} else {
					document.location.href = '/';
				}
			},
			error: function() {
				return false;
			}
		});
	}
	
// 	var timer = null;
//     $(window).on('resize', function() {
//     	clearTimeout(timer);
//         timer = setTimeout(fnSiteMapToggle, 300);
//     });
	
    function fnSiteMapToggle() {
    	var innerWidth = window.innerWidth;
        if(innerWidth > 992) {
            $('#siteMapPc').show();
            $('#siteMapM').hide();
        } else {
            $('#siteMapPc').hide();
            $('#siteMapM').show();
        }
    }
    
   function checkSearchModal() {
    	var searchModalClass = 	$('#searchDrop').attr('class');
    	if (searchModalClass.indexOf('in') > -1) {
			$('body').addClass('modal-close-search-drop');
    	}
    }
    
	$(document).ready(function() {
		healthcheck();
		
		var cnt = $('#ulList>li').length;
		if(cnt == 0) {
			$('#liList').remove();
		}
		// 상단메뉴 나의시계열 카운트
		$('#myTmsesMenu > a > span').html(fnGetMyTmsesCookieCnt());
		$('.nav_menu').find('span').html(fnGetMyTmsesCookieCnt());
		
		$('.allMenu.pc, .btnSearch').click(function(){
			$(".depth2_grap").hide();
			$("#header .nav_bg").hide();
		});
		
		$('.btnSearch').click(function() {
			if ($('body').attr('class') == 'modal-close-search-drop') {
				$('body').toggleClass('modal-close-search-drop');
			}
			setTimeout(function(){
				$("#search_text").focus();
			}, 0);
		});
		
		// 카카오 공유링크 버튼이 존재 않을시 fnKakaoInit() 호출하면 에러 발생
		var kaKaoLinkBtnCnt = $('#kakao-link-btn').length;
		if(kaKaoLinkBtnCnt > 0) {
			fnKakaoInit('/polcTmsesSrvc/them?');
		}
		
// 		fnSiteMapToggle();
	});
	
	$(function () {
    	// 모달영역
		$(".header_btn>.allMenu.pc").click(function(){
    		$("#gnb").fadeOut(300);
    		$(".header_btn .allMenu.pc").fadeOut(300);
    		$(".header_btn .btnSearch").fadeOut(300);
    		$(".header_btn .btnLogin").fadeOut(300);
    		$(".header_btn .allMenuClose").fadeIn(300);
    		$("#header").addClass("siteMapOpen");
    	});
    	
    	// 그외 영역
		$("#allMenu").on('hide.bs.modal', function(){
			$("#gnb").fadeIn(300);
    		$(".header_btn .allMenu.pc").fadeIn(300);
    		$(".header_btn .btnSearch").fadeIn(300);
    		$(".header_btn .btnLogin").fadeIn(300);
    		$(".header_btn .allMenuClose").fadeOut(300);
    		$("#header").removeClass("siteMapOpen");
		})
		
		$("#gnbMobile div[id^=navlist]").on("shown.bs.collapse", function(){
			$("#gnbMobile div[id^=navlist].collapse").not('#' + this.id).collapse('hide');
		})
	});
	
	/* 폰트 사이즈 조절 컨텐츠 */
	$(function () {
	    kdifontSize = function(){
			if( !$('.font_setup').length ) return;
	
			var body= '#sub_content',
				size= 10;
	
			function fontResize(a) {
				if (!(typeof body=='object')) {body= $(body)}
				if (a>0 || a<0) {
					size= Math.max(10, Math.min(13, size+a));
				} else {
					size= 10;
				}
	
				body.css('fontSize', (size/10)+'em')
			}
	
			$('.font_setup').find('.minus').click(function(){ fontResize(-1) });
			$('.font_setup').find('.plus').click(function(){ fontResize(1) });
			$('.font_setup').find('.default').click(function(){ 
				$('#sub_content').css('fontSize', 1+'em');
				size = 10;
			});
			
		}
	    kdifontSize();
    });
	
	/* 폰트 사이즈 조절 타임라인 */
	$(function () {
	    kdifontSize = function(){
			if( !$('.font_setup').length ) return;
	
			var body = '#timeline',
				size = 10;
	
			function fontResize(a) {
				if (!(typeof body=='object')) {body= $(body)}
				if (a>0 || a<0) {
					size= Math.max(10, Math.min(13, size+a));
				} else {
					size= 10;
				}
	
				body.css('fontSize', (size/10)+'em')
			}
	
			$('.font_setup').find('.minus').click(function(){ fontResize(-1) });
			$('.font_setup').find('.plus').click(function(){ fontResize(1) });
			$('.font_setup').find('.default').click(function(){ 
				$('#timeline').css('fontSize', 1+'em');
				size = 10;
			});
			
		}
	    kdifontSize();
    });
	
</script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-109828621-1"></script>
<script>
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-109828621-1');
</script>
<div id="accessibility">
    <a href="#visualarea">본문 바로가기</a> <a href="#gnb">메뉴바로가기</a>
</div>


    
		
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    


<header id="header" onmouseleave="fnMenuMouseOut(this);">
    <div class="container">
		<h1 id="logo">
			<a href="/">
				<img src="/resources/images/epts_logo.png" alt="KDI 경제정책 시계열서비스">
			</a>
		</h1>
		<div class="util">
			<a href="/foreign/time" class="link">대외원조역사</a>
			<a href="/polcTmsesSrvc/callRss" target="_blank" class="rss">RSS</a>
			
					<a href="/sign/terms" class="join">회원가입</a>
					<a href="/frontLogin" class="login">로그인</a>
				
		</div>
		<nav id="gnb">
			<h2 class="sr-only">주메뉴</h2>
			<ul>
				
					
						
								<li  onmouseover="fnMenuMouseOnOver(this, 'SYSMN20170001');">
									<a href="/polcTmsesSrvc/them">
										정책시계열서비스 
									</a>
									<div class="depth2_grap">
										<div class="text_grap grap1">
											<p class="title">정책시계열서비스</p>
											<p class="text"></p>
										</div>
										<ul class="depth2">
											
												
													<li>
														<a href="/polcTmsesSrvc/them">
															주제별보기
														</a>
													</li>
												
											
												
													<li>
														<a href="/polcTmsesSrvc/gvdpt">
															부처별보기
														</a>
													</li>
												
											
												
													<li>
														<a href="/polcTmsesSrvc/issu">
															이슈별시계열
														</a>
													</li>
												
											
												
											
												
													<li>
														<a href="/polcTmsesSrvc/newUp">
															최신시계열
														</a>
													</li>
												
											
												
													<li>
														<a href="/polcTmsesSrvc/hot">
															인기시계열
														</a>
													</li>
												
											
												
													<li>
														<a href="/polcTmsesSrvc/pageView/466">
															주제별/부처별분류표
														</a>
													</li>
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
										</ul>
										<a href="/bussIntd/pageView/467" class="using"><strong>이용방법</strong><span>시계열 서비스 이용방법을 자세히 안내해드립니다.</span></a>
										<a href="/joinSquare/post/faq" class="faq"><strong>자주하는 질문</strong><span>시계열 서비스에 대해 자주하는 질문입니다.</span></a>
									</div>	
								</li>
							
					
				
					
						
								<li  onmouseover="fnMenuMouseOnOver(this, 'SYSMN20170002');">
									<a href="/archive/frwdHist">
										아카이브 
									</a>
									<div class="depth2_grap">
										<div class="text_grap grap2">
											<p class="title">아카이브</p>
											<p class="text"></p>
										</div>
										<ul class="depth2">
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
													<li>
														<a href="/archive/frwdHist">
															정책자료
														</a>
													</li>
												
											
												
													<li>
														<a href="/archive/polcExpnaon">
															정책해설
														</a>
													</li>
												
											
												
													<li>
														<a href="/archive/presTrnd">
															언론동향
														</a>
													</li>
												
											
												
													<li>
														<a href="/archive/rschData">
															연구자료
														</a>
													</li>
												
											
												
													<li>
														<a href="/archive/polSuvy">
															여론조사
														</a>
													</li>
												
											
												
													<li>
														<a href="/archive/infoVideo">
															멀티콘텐츠
														</a>
													</li>
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
										</ul>
										<a href="/bussIntd/pageView/467" class="using"><strong>이용방법</strong><span>시계열 서비스 이용방법을 자세히 안내해드립니다.</span></a>
										<a href="/joinSquare/post/faq" class="faq"><strong>자주하는 질문</strong><span>시계열 서비스에 대해 자주하는 질문입니다.</span></a>
									</div>	
								</li>
							
					
				
					
						
								<li  onmouseover="fnMenuMouseOnOver(this, 'SYSMN20170004');">
									<a href="/joinSquare/post/notice">
										참여광장 
									</a>
									<div class="depth2_grap">
										<div class="text_grap grap3">
											<p class="title">참여광장</p>
											<p class="text"></p>
										</div>
										<ul class="depth2">
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
													<li>
														<a href="/joinSquare/post/notice">
															공지사항
														</a>
													</li>
												
											
												
													<li>
														<a href="/joinSquare/post/faq">
															자주하는 질문
														</a>
													</li>
												
											
												
													<li>
														<a href="/joinSquare/pageView/467">
															이용방법
														</a>
													</li>
												
											
												
													<li>
														<a href="/joinSquare/useInqr">
															이용문의
														</a>
													</li>
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
										</ul>
										<a href="/bussIntd/pageView/467" class="using"><strong>이용방법</strong><span>시계열 서비스 이용방법을 자세히 안내해드립니다.</span></a>
										<a href="/joinSquare/post/faq" class="faq"><strong>자주하는 질문</strong><span>시계열 서비스에 대해 자주하는 질문입니다.</span></a>
									</div>	
								</li>
							
					
				
					
						
								<li  onmouseover="fnMenuMouseOnOver(this, 'SYSMN20170005');">
									<a href="/bussIntd/pageView/463">
										사업소개 
									</a>
									<div class="depth2_grap">
										<div class="text_grap grap4">
											<p class="title">사업소개</p>
											<p class="text"></p>
										</div>
										<ul class="depth2">
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
													<li>
														<a href="/bussIntd/pageView/463">
															프로젝트소개
														</a>
													</li>
												
											
												
													<li>
														<a href="/bussIntd/pageView/464">
															정책수록현황
														</a>
													</li>
												
											
												
													<li>
														<a href="/bussIntd/pageView/465">
															부처변천사
														</a>
													</li>
												
											
												
													<li>
														<a href="/bussIntd/pageView/462">
															유용한링크
														</a>
													</li>
												
											
												
											
												
											
												
											
												
											
												
											
												
											
										</ul>
										<a href="/bussIntd/pageView/467" class="using"><strong>이용방법</strong><span>시계열 서비스 이용방법을 자세히 안내해드립니다.</span></a>
										<a href="/joinSquare/post/faq" class="faq"><strong>자주하는 질문</strong><span>시계열 서비스에 대해 자주하는 질문입니다.</span></a>
									</div>	
								</li>
							
					
				
					
						
								<li class="point" id="myTmsesMenu" onmouseover="fnMenuMouseOnOver(this, 'SYSMN20170027');">
									<a href="/myTmses/toList">
										나의시계열 <span>0</span>
									</a>
									<div class="depth2_grap">
										<div class="text_grap grap5">
											<p class="title">나의시계열</p>
											<p class="text"></p>
										</div>
										<ul class="depth2">
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
											
												
													<li>
														<a href="/myTmses/toList">
															내가 본 정책 자료
														</a>
													</li>
												
											
												
													<li>
														<a href="/myTmses/myCart">
															내가 담은 정책자료
														</a>
													</li>
												
											
												
													<li>
														<a href="/myTmses/storage">
															나의 시계열 보관함
														</a>
													</li>
												
											
												
											
												
											
												
											
										</ul>
										<a href="/bussIntd/pageView/467" class="using"><strong>이용방법</strong><span>시계열 서비스 이용방법을 자세히 안내해드립니다.</span></a>
										<a href="/joinSquare/post/faq" class="faq"><strong>자주하는 질문</strong><span>시계열 서비스에 대해 자주하는 질문입니다.</span></a>
									</div>	
								</li>
							
					
				
					
				
				<li>
					<div class="depth2_grap">
				        <ul class="top_menu">
				        	<div class="container">
				        	   
		                            
		                                
		                                        <li class="list">
		                                            <a href="/polcTmsesSrvc/them">정책시계열서비스</a>
		                                            <ul class="menu2">
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/polcTmsesSrvc/them">
		                                                                주제별보기
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/polcTmsesSrvc/gvdpt">
		                                                                부처별보기
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/polcTmsesSrvc/issu">
		                                                                이슈별시계열
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/polcTmsesSrvc/newUp">
		                                                                최신시계열
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/polcTmsesSrvc/hot">
		                                                                인기시계열
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/polcTmsesSrvc/pageView/466">
		                                                                주제별/부처별분류표
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                            </ul>
		                                        </li>
		                                    
		                            
		                        
		                            
		                                
		                                        <li class="list">
		                                            <a href="/archive/frwdHist">아카이브</a>
		                                            <ul class="menu2">
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/archive/frwdHist">
		                                                                정책자료
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/archive/polcExpnaon">
		                                                                정책해설
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/archive/presTrnd">
		                                                                언론동향
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/archive/rschData">
		                                                                연구자료
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/archive/polSuvy">
		                                                                여론조사
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/archive/infoVideo">
		                                                                멀티콘텐츠
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                            </ul>
		                                        </li>
		                                    
		                            
		                        
		                            
		                                
		                                        <li class="list">
		                                            <a href="/joinSquare/post/notice">참여광장</a>
		                                            <ul class="menu2">
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/joinSquare/post/notice">
		                                                                공지사항
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/joinSquare/post/faq">
		                                                                자주하는 질문
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/joinSquare/pageView/467">
		                                                                이용방법
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/joinSquare/useInqr">
		                                                                이용문의
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                            </ul>
		                                        </li>
		                                    
		                            
		                        
		                            
		                                
		                                        <li class="list">
		                                            <a href="/bussIntd/pageView/463">사업소개</a>
		                                            <ul class="menu2">
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/bussIntd/pageView/463">
		                                                                프로젝트소개
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/bussIntd/pageView/464">
		                                                                정책수록현황
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/bussIntd/pageView/465">
		                                                                부처변천사
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/bussIntd/pageView/462">
		                                                                유용한링크
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                            </ul>
		                                        </li>
		                                    
		                            
		                        
		                            
		                                
		                                        <li class="list">
		                                            <a href="/myTmses/toList">나의시계열</a>
		                                            <ul class="menu2">
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/myTmses/toList">
		                                                                내가 본 정책 자료
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/myTmses/myCart">
		                                                                내가 담은 정책자료
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                        <li class="menu_item">
		                                                            <a href="/myTmses/storage">
		                                                                나의 시계열 보관함
		                                                            </a>
		                                                        </li>
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                                    
		                                                
		                                            </ul>
		                                        </li>
		                                    
		                            
		                        
		                            
		                        
				        	</div>
				        </ul>
					</div>
				</li>
			</ul>
		</nav>
		<div class="header_btn">
			<a href="#this" id="siteMapPc" title="전체메뉴보기" class="allMenu" onmouseover="fnMenuMouseOnOver(this, 'MAP');" style="display:none;">전체메뉴보기</a>
			<a href="#this" id="siteMapM" title="전체메뉴보기" class="allMenu pc" data-toggle="modal" data-target="#allMenu">전체메뉴보기</a>
			
				<a href="#this" title="통합검색 바로가기" class="btnSearch" data-toggle="modal" data-target="#searchDrop">검색</a>
			
			<a href="#this" title="전체메뉴보기" class="allMenu mobile" data-toggle="modal" data-target="#gnbMobile">전체메뉴보기</a>
			<a href="#this" title="사이트맵 닫기" class="allMenuClose" data-toggle="modal" data-target="#allMenu" onclick="checkSearchModal();">사이트맵 닫기</a>
		</div>
	</div>
	<div class="nav_bg"></div>
</header>


	<div id="location">
	    <div class="container"> 
	        <ul class="location aid_menu">
	            <li class="home">
	                <a href="/">
	                    <span class="sr-only">홈으로 이동</span>
	                </a>
	            </li>
	            <!-- 2021.09.28 장찬양 - 대외원조수원역사 메뉴관리 X -->
	            
			            <li class="dropdown">
				            <a href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
			                    
				                    
						                
							                <span>정책시계열서비스</span><i class="caret"></i>
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
			                    
				                    
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
			                    
				                    
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
			                    
				                    
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
			                    
				                    
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
			                    
				                    
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
						                
					                
			                    
				            </a>
			                <ul class="dropdown-menu">
			                    
				                    
					                    <li>
				                            <a href="/polcTmsesSrvc/them">정책시계열서비스</a>
				                        </li>
				                    
			                    
				                    
					                    <li>
				                            <a href="/archive/frwdHist">아카이브</a>
				                        </li>
				                    
			                    
				                    
					                    <li>
				                            <a href="/joinSquare/post/notice">참여광장</a>
				                        </li>
				                    
			                    
				                    
					                    <li>
				                            <a href="/bussIntd/pageView/463">사업소개</a>
				                        </li>
				                    
			                    
				                    
					                    <li>
				                            <a href="/myTmses/toList">나의시계열</a>
				                        </li>
				                    
			                    
				                    
			                    
			                </ul>
			            </li>
			            <li class="dropdown" id="liList">
				            <a href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
			                    
					                
						                <span>주제별보기</span><i class="caret"></i>
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
					                
				                
				            </a>
			                <ul class="dropdown-menu" id="ulList">
			                    
				                    
					                    <li>
				                            <a href="/polcTmsesSrvc/them">주제별보기</a>
				                        </li>
				                    
			                    
				                    
					                    <li>
				                            <a href="/polcTmsesSrvc/gvdpt">부처별보기</a>
				                        </li>
				                    
			                    
				                    
					                    <li>
				                            <a href="/polcTmsesSrvc/issu">이슈별시계열</a>
				                        </li>
				                    
			                    
				                    
			                    
				                    
					                    <li>
				                            <a href="/polcTmsesSrvc/newUp">최신시계열</a>
				                        </li>
				                    
			                    
				                    
					                    <li>
				                            <a href="/polcTmsesSrvc/hot">인기시계열</a>
				                        </li>
				                    
			                    
				                    
					                    <li>
				                            <a href="/polcTmsesSrvc/pageView/466">주제별/부처별분류표</a>
				                        </li>
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
				                    
			                    
			                </ul>
			            </li>
	            	
	        </ul>
	        <div class="tools">
	        	<span id="shareTip">
	        		<button type="button" class="copy" title="새창으로 열림" onclick="fnCopyUrl();"><span class="sr-only">링크 복사하기</span></button>
		        	<button type="button" id="kakao-link-btn" class="kakao" title="새창으로 열림">
	                    <span class="sr-only">카카오톡 공유하기</span>
	                </button>
		        	<button type="button" class="naver" title="새창으로 열림" onclick="fnNaver(this, '/polcTmsesSrvc/them?');">
	                    <span class="sr-only">네이버 공유하기</span>
	                </button>
		            <button type="button" class="facebook" onclick="javascript:sendFaceBook('/polcTmsesSrvc/them?')" title="새창으로 열림"><span class="sr-only">페이스북 공유하기</span></button>
		            <button type="button" class="twitter" onclick="javascript:sendTwitter('/polcTmsesSrvc/them?')" title="새창으로 열림"><span class="sr-only">트위터 공유하기</span></button>
	        	</span>
	            <button type="button" class="print" onclick="javascript:printContents();" title="새창으로 열림"><span class="sr-only">프린트하기</span></button>
	            <div class="font_setup">
	                <button type="button" class="minus"><span class="sr-only">본문 사이즈 작게</span></button>
	                <button type="button" class="default"><span class="sr-only">본문 사이즈 기본</span></button>
	                <button type="button" class="plus"><span class="sr-only">본문 사이즈 크게</span></button>
	            </div>
	        </div>
	    </div>
	</div>


<!-- Modal -->
<div class="modal fade bs-example-modal-lg all_menu_modal in" id="allMenu" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
             <div id="sitemap" class="modal-body">
                <ul class="top_menu">
                	<div class="container">
                        
                            
                                
                                        <li class="list">
                                            <a href="/polcTmsesSrvc/them">정책시계열서비스</a>
                                            <ul class="menu2">
                                                
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/polcTmsesSrvc/them">
	                                                            주제별보기
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/polcTmsesSrvc/gvdpt">
	                                                            부처별보기
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/polcTmsesSrvc/issu">
	                                                            이슈별시계열
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/polcTmsesSrvc/newUp">
	                                                            최신시계열
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/polcTmsesSrvc/hot">
	                                                            인기시계열
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/polcTmsesSrvc/pageView/466">
	                                                            주제별/부처별분류표
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
                                            </ul>
                                        </li>
                                    
                            
                        
                            
                                
                                        <li class="list">
                                            <a href="/archive/frwdHist">아카이브</a>
                                            <ul class="menu2">
                                                
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/archive/frwdHist">
	                                                            정책자료
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/archive/polcExpnaon">
	                                                            정책해설
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/archive/presTrnd">
	                                                            언론동향
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/archive/rschData">
	                                                            연구자료
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/archive/polSuvy">
	                                                            여론조사
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/archive/infoVideo">
	                                                            멀티콘텐츠
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
                                            </ul>
                                        </li>
                                    
                            
                        
                            
                                
                                        <li class="list">
                                            <a href="/joinSquare/post/notice">참여광장</a>
                                            <ul class="menu2">
                                                
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/joinSquare/post/notice">
	                                                            공지사항
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/joinSquare/post/faq">
	                                                            자주하는 질문
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/joinSquare/pageView/467">
	                                                            이용방법
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/joinSquare/useInqr">
	                                                            이용문의
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
                                            </ul>
                                        </li>
                                    
                            
                        
                            
                                
                                        <li class="list">
                                            <a href="/bussIntd/pageView/463">사업소개</a>
                                            <ul class="menu2">
                                                
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/bussIntd/pageView/463">
	                                                            프로젝트소개
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/bussIntd/pageView/464">
	                                                            정책수록현황
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/bussIntd/pageView/465">
	                                                            부처변천사
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/bussIntd/pageView/462">
	                                                            유용한링크
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
                                            </ul>
                                        </li>
                                    
                            
                        
                            
                                
                                        <li class="list">
                                            <a href="/myTmses/toList">나의시계열</a>
                                            <ul class="menu2">
                                                
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/myTmses/toList">
	                                                            내가 본 정책 자료
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/myTmses/myCart">
	                                                            내가 담은 정책자료
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                                    <li class="menu_item">
	                                                        <a href="/myTmses/storage">
	                                                            나의 시계열 보관함
	                                                        </a>
	                                                    </li>
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
	                                                
	                                            
                                            </ul>
                                        </li>
                                    
                            
                        
                            
                        
	                </div>
                </ul>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="/resources/images/modal_close.png" alt="모달창 닫기">
                </button>
            </div>
        </div>
    </div>
</div>


	<div id="searchDrop" class="modal">
        








<script type="text/javascript" src="/resources/jslb/bbsCommon.js"></script>
<script type="text/javascript" src="/resources/jslb/fattCommon.js"></script>
<script type="text/javascript" src="/resources/jslb/cteFrontCommon.js"></script>
<script type="text/javascript" src="/resources/jslb/myTmses.js"></script>

<!-- datePicker를 사용하기 위해 추가 (장찬양)  -->
<link href="//code.jquery.com/ui/1.8.18/themes/base/jquery-ui.css" rel="stylesheet">
<!-- 2021.09.28 장찬양 - kdiFrontLayoutPage.jsp 로 이동 -->
<!-- <link href="/resources/css/style.css" rel="stylesheet"> -->

<!-- datePicker를 사용하기 위해 추가 (한덕규)  -->
<!-- <link href="/resources/css/bootstrap/bootstrap-datepicker.css" rel="stylesheet"> -->
<!-- <script type="text/javascript" src="/resources/jslb/bootstrap/bootstrap-datepicker-kr.js"></script> -->
<script type="text/javascript" charset="utf-8" src="/resources/jslb/use.js"></script>
<script src="//code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
<script>
    
	var options = new Array();
    
    function fnSearchEngine() {
    	var searchType = arguments[0];
        var dtlSearchYn = $('#DTL_SEARCH_YN').val();
        if(isEmpty(dtlSearchYn)) dtlSearchYn = 'N'
        if(dtlSearchYn == 'Y') {
        	fnDtlSearch(searchType);
        } else {
        	fnMstSearch(searchType);
        }
    }
    
    // 일반검색
    function fnMstSearch() {
    	var searchType = isEmpty(arguments[0]) ? $('#SEARCH_ENGINE_TYPE').val() : arguments[0];
    	var searchText = $('#search_text').val();
        if(isEmpty(searchText)) {
            alert('검색어를 입력하세요.');
            $('#search_text').focus();
            return false;
        }
    	$('#SEARCH_ENGINE_TYPE').val(searchType);
        $('#DTL_SEARCH_YN').val('N');
        $('#mstPage').val('1');
    	$('#searchEngineForm').submit();
    }
    
    function fnMstValidateForm() {
    	var searchText = $('#search_text').val();
        if(isEmpty(searchText)) {
        	alert('검색어를 입력하세요.');
            $('#search_text').focus();
            return false;
        }
    }
    
    function fnDtlValidateForm() {
    	var dtlSearchText1 = $('#DTL_SEARCH_TEXT_1').val();
        if(isEmpty(dtlSearchText1)) {
        	alert('검색어를 입력하세요.');
            $('#DTL_SEARCH_TEXT_1').focus();
            return false;
        }
    }
    
    // 상세검색
    function fnDtlSearch() {
    	var searchType = isEmpty(arguments[0]) ? $('#DTL_SEARCH_ENGINE_TYPE').val() : arguments[0];
    	var dtlSearchText1 = $('#DTL_SEARCH_TEXT_1').val();
    	if(isEmpty(dtlSearchText1)) {
    		return false;
    	}
    	
    	$('#DTL_SEARCH_ENGINE_TYPE').val(searchType);
    	$('#DTL_SEARCH_YN').val('Y');
    	$('#dtlPage').val('1');
    	
    	var reltThemCd = '';
    	$('#searchThem').find('li').each(function(k,v) {
    		var $reltThemTarget = $(this).children('span');
    		if(k == 0) {
	    		reltThemCd = $reltThemTarget.data('value');
    		} else {
	    		reltThemCd += 'I' + $reltThemTarget.data('value');
    		}
        });
        $('#DTL_SEARCH_RELT_THEM_CD').val(reltThemCd);
        
        var gvdptCd = '';
        $('#searchGvdpt').find('li').each(function(k,v) {
        	var $gvdptTarget = $(this).children('span');
            if(k == 0) {
            	gvdptCd = $gvdptTarget.data('value');
            } else {
            	gvdptCd += 'I' + $gvdptTarget.data('value');
            }
        });
        $('#DTL_SEARCH_GVDPT_CD').val(gvdptCd);
    	
    	$('#moreSearch').submit();
    }
    
    function fnDtlSearchClear() {
    	$('input[name=DTL_SEARCH_ORDR]').first().click();
		$('#DTL_SEARCH_START_DT').val('');
		$('#DTL_SEARCH_END_DT').val('');
    	$('#DTL_SEARCH_TEXT_1').val('');
    	$('#DTL_SEARCH_TEXT_2').val('');
    	$('#DTL_SEARCH_TEXT_3').val('');
    	$('#DTL_SEARCH_TEXT_4').val('');
    	$('#DTL_SEARCH_OPTION_1 option:eq(0)').attr('selected', 'selected');
    	$('#DTL_SEARCH_OPTION_2 option:eq(0)').attr('selected', 'selected');
    	$('#DTL_SEARCH_OPTION_3 option:eq(0)').attr('selected', 'selected');
    	$('#searchThem').find('li').remove();
    	$('#searchGvdpt').find('li').remove();
    	$('#DTL_SEARCH_RELT_THEM_CD').val('');
    	$('#DTL_SEARCH_GVDPT_CD').val('');
    }
    
    function fnSearchPage() {
    	var cPage = arguments[0];
        var dtlSearchYn = 'N';
        if(dtlSearchYn == 'Y') {
        	$('#dtlPage').val(cPage);
	    	$('#moreSearch').submit();
        } else {
        	$('#mstPage').val(cPage);
	    	$('#searchEngineForm').submit();
        }
    }
    
    function fnCteToggle() {
    	var target = $('#depthUl');
    	if(target.css('display') == 'none') {
    		target.show('fast')
    	} else {
    		target.hide('fast')
    	}
    }
    
    function fnAddCookie(cteSeq, epicNum, frwdHistSeq) {
        if(isEmpty(frwdHistSeq)) {
            fnAddMyTmsesCookie('ec', cteSeq, epicNum);
        } else {
            fnAddMyTmsesCookie('ef', cteSeq, epicNum);
        }
        fnUpdateEpicModal(epicNum, 'searchModal');
    }
    
    function fnSearchOrdr() {
    	var dvsn = arguments[0];
    	var searchType = '';
    	var dtlSearchYn = 'N';
        if(dtlSearchYn == 'Y') {
	    	$('#dtlPage').val('1');
	    	searchType = $('#DTL_SEARCH_ENGINE_TYPE').val();
	    	if(dvsn == 'DESC') {
		    	$('input[name="DTL_SEARCH_ORDR"]').eq(0).click();
	    	} else if(dvsn == 'ASC') {
		    	$('input[name="DTL_SEARCH_ORDR"]').eq(1).click();
	    	} else if(dvsn == 'COR') {
		    	$('input[name="DTL_SEARCH_ORDR"]').eq(2).click();
	    	}
	    	$('#DTL_SEARCH_ORDR2').val(dvsn);
            fnDtlSearch(searchType);
        } else {
	    	$('#SEARCH_ORDR').val(dvsn);
	    	$('#mstPage').val('1');
	    	searchType = $('#SEARCH_ENGINE_TYPE').val();
            fnMstSearch(searchType);
        }
    }
    
    function fnSearchType() {
    	var dvsn = arguments[0];
    	var txt = '전체';
    	if(dvsn == 'ALL') {
    		txt = '전체';
    	} else if(dvsn == 'CTE') {
    		txt = '정책시계열';
    	} else if(dvsn == 'BBS') {
    		txt = '참여광장';    		
    	} else if(dvsn == 'PAGE') {
    		txt = '사업소개';
    	} else if(dvsn == 'EPOL') {
    		txt = '경제정책자료';
    	} else if(dvsn == 'DRCH') {
    		txt = '국내연구자료';
    	} else {
    		txt = '정책시계열';
    	}
    	$('#SEARCH_ENGINE_TYPE').val(dvsn);
    	$('#m_searchOrdrTxt').text(txt);
    }
    
    function fnSetSearchCode() {
    	var target = arguments[0];
    	var dvsn = $(target).data('dvsn');    	
    	var allYn = $(target).data('all_yn');
    	var activeLev3LiCnt = $(target).parent().siblings('li').find('.on').length;
    	
    	if($(target).hasClass('on')) {
	    	if(allYn == 'Y') $(target).parent().siblings().find('a').removeClass('on');
	        $(target).removeClass('on');
	        
	        // 선택된 3depth 항목이 없을때 그상위 2depth 항목 비활성화(색상풀기)
	        if(activeLev3LiCnt == 0) {
	        	$(target).parent('li').parent('ul').parent('li').removeClass('on');
	        }
	        
	        if(dvsn == 'them') {
		        fnDelSelect(dvsn, $(target).data('relt_them_cd'));
	        } else if(dvsn == 'gvdpt') {
		        fnDelSelect(dvsn, $(target).data('gvdpt_cd'));
	        }
    	} else {
    		if(allYn == 'Y') $(target).parent().siblings().find('a').addClass('on');
	    	$(target).addClass('on');
	    	
	    	 // 선택된 3depth 항목이 하나라도 있을때 그상위 2depth 항목 활성화(색상)
	        if(activeLev3LiCnt == 0) {
	        	$(target).parent('li').parent('ul').parent('li').addClass('on');
	        }
    	}
    	var targetList = $(target).parent().parent().find('li>a');
    	var allCnt = targetList.length;
    	var onCnt = 0;
    	var list = $(target).parent().parent().find('li');
    	var headerTarget; 
        list.each(function(k,v) {
        	var dataAllYn = $(v).find('a').data('all_yn');
        	if(dataAllYn == 'Y') {
        		headerTarget = $(v).find('a');
        	} else if(dataAllYn == 'N' && $(v).find('a').hasClass('on')) {
        		onCnt++;
        	}
        });

    	list.each(function(k,v) {
            var dataAllYn = $(v).find('a').data('all_yn');
            if(dataAllYn == 'N' && $(v).find('a').hasClass('on')) {
            	var code = '';
            	var p_code = '';
                var nm = '';
                if(dvsn == 'them') {
                	code = $(v).find('a').data('relt_them_cd');
                	p_code = $(v).find('a').data('hrnk_relt_them_cd');
                    nm = $(v).find('a').data('full_relt_them_nm');
                } else if(dvsn == 'gvdpt') {
                	code = $(v).find('a').data('gvdpt_cd');
                	p_code = $(v).find('a').data('hrnk_gvdpt_cd');
                    nm = $(v).find('a').data('full_gvdpt_nm');
                }
                
                fnAddSelect(dvsn, code, p_code, nm);
            }
        });
    }
    
    function fnAddSelect() {
    	var dvsn = arguments[0];
    	var code = arguments[1];
    	var p_code = arguments[2];
    	var nm = arguments[3];
        var txt = '<li>';
        txt += '<span data-sel_cd="' + code + '" data-parent_sel_cd="' + p_code + '">' + nm + '</span>';
        txt += '<div class="check">';
        txt += '<button type="button" onclick="javascript:fnXbtnDeleteSelect(\'' + dvsn + '\', \'' + code + '\');">';
        txt += '<i class="icon_delete"></i><span class="sr-only">지우기</span>';
        txt += '</button>';
        txt += '</div>';
        txt += '</li>';

        var cnt = 0;
        var dulCnt = 0;
        if(dvsn == 'them') {
        	cnt = $('#themModalSelect').find('li').size();
        } else if(dvsn == 'gvdpt') {
        	cnt = $('#gvdptModalSelect').find('li').size();
        }
        
        for(var i=0; i<cnt; i++) {
        	var targetVal = '';
        	if(dvsn == 'them') {
        		targetVal = $('#themModalSelect').find('li > span').eq(i).data('sel_cd');
            } else if(dvsn == 'gvdpt') {
            	targetVal = $('#gvdptModalSelect').find('li > span').eq(i).data('sel_cd');
            }
        	if(targetVal == code) dulCnt++;
        }
        
        if(dulCnt == 0) {
	    	if(dvsn == 'them') {
	    		$('#themModalSelect').append(txt);
	    	} else if(dvsn == 'gvdpt') {
	    		$('#gvdptModalSelect').append(txt);
	    	}
        }
    }
    
    function fnXbtnDeleteSelect(dvsn, code) {
    	if(dvsn == 'them') {
    		$('.modal-content').find('[data-relt_them_cd="'+ code + '"]').trigger('click');
    	} else if(dvsn == 'gvdpt') {
    		$('.modal-content').find('[data-gvdpt_cd="'+ code + '"]').trigger('click');
    	}
    }
    
    function fnDelSelect() {
    	var dvsn = arguments[0];
    	var code = arguments[1];
    	if(dvsn == 'them') {
	    	$('#themModalSelect').find('li').each(function(k,v) {
	    		if(code == $(this).find('span').data('sel_cd')) {
	    			$(this).remove();
	    		}
	    	});
        } else if(dvsn == 'gvdpt') {
	    	$('#gvdptModalSelect').find('li').each(function(k,v) {
	    		if(code == $(this).find('span').data('sel_cd')) {
	    			$(this).remove();
	    		}
	    	});
        }
    }
    
    // 분류검색 복사
    function fnSetSelect() {
    	var dvsn = arguments[0];
    	var cnt = 0;
    	if(dvsn == 'them') {
    		cnt = $('#themModalSelect').find('li').size();
        } else if(dvsn == 'gvdpt') {
        	cnt = $('#gvdptModalSelect').find('li').size();
        }
    	
    	if(cnt == 0) {
    		alert('선택된 항목이 존재하지 않습니다.');
    		if(dvsn == 'them') {
    			$('#themModalSelect').focus();
            } else if(dvsn == 'gvdpt') {
            	$('#gvdptModalSelect').focus();
            }
    		return false;
    	}
    	if(dvsn == 'them') {
    		var searchThemOptions = "";
    		$('#searchThem').find('li').remove();
            $('#themModalSelect > li > span').each(function(idx, item){
            	var itemCd = $(item).data('sel_cd');
            	var itemPcd = $(item).data('parent_sel_cd');
            	var itemTxt = $(item).text();
            	searchThemOptions += '<li>';
            	searchThemOptions += '<span data-value="' + itemCd + '" data-parent_cd="' + itemPcd + '">' + itemTxt + '</span>';
            	searchThemOptions += '<div class="check">';
            	searchThemOptions += '<button type="button" onclick="javascript:fnDtlSearchDelete(this);">';
            	searchThemOptions += '<i class="icon_delete"></i><span class="sr-only">지우기</span>';
            	searchThemOptions += '</button>';
            	searchThemOptions += '</div>';
            	searchThemOptions += '</li>';
            });
            
            $(searchThemOptions).appendTo('#searchThem');
            $('#themModalSelect').find('li').remove();
            $('#dtlSearchReltThemModal').modal('hide');
        } else if(dvsn == 'gvdpt') {
        	var searchThemOptions = "";
        	$('#searchGvdpt').find('li').remove();
            $('#gvdptModalSelect > li > span').each(function(idx, item){
            	var itemCd = $(item).data('sel_cd');
            	var itemPcd = $(item).data('parent_sel_cd');
            	var itemTxt = $(item).text();
            	searchThemOptions += '<li>';
            	searchThemOptions += '<span data-value="' + itemCd + '" data-parent_cd="' + itemPcd + '">' + itemTxt + '</span>';
            	searchThemOptions += '<div class="check">';
            	searchThemOptions += '<button type="button" onclick="javascript:fnDtlSearchDelete(this);">';
            	searchThemOptions += '<i class="icon_delete"></i><span class="sr-only">지우기</span>';
            	searchThemOptions += '</button>';
            	searchThemOptions += '</div>';
            	searchThemOptions += '</li>';
            });
            
            $(searchThemOptions).appendTo('#searchGvdpt');
            $('#gvdptModalSelect').find('li').remove();
            $('#dtlSearchGvdptModal').modal('hide');
        }
    }
    
    function fnSearchSubList1() {
        var target = arguments[0];
        var reltThemCd = arguments[1];
        var subCnt = $(target).next().find('li').length;
        if(subCnt == 0) {
            $.ajax({
                type: 'POST',
                url: '/polcTmsesSrvc/them/subCodeList?_csrf=1f37bb67-4cc6-477a-978d-85c6f35b18c1',
                data: {
                    RELT_THEM_CD : reltThemCd
                },
                cache: false,
                async: false,
                success: function(response) {
                    if(isNotEmpty(response)) {
                        var cnt = response.hrnkReltThemList.length;
                        var txt = '';
                        for(var i=0; i<cnt; i++) {
                            var paramReltThemCd = response.hrnkReltThemList[i].RELT_THEM_CD;
                            var paramhrnkReltThemCd = response.hrnkReltThemList[i].HRNK_RELT_THEM_CD;
                            var allYn = response.hrnkReltThemList[i].ALL_YN;
                            var reltThemNm = response.hrnkReltThemList[i].RELT_THEM_NM;
                            var fullReltThemNm = response.hrnkReltThemList[i].FULL_RELT_THEM_NM;
                            if(i > 0) { // 전체선택 제외
	                            txt += '<li>';
	                            txt += '<a href="#this" class="' + allYn + ' lev3';
	                            if(fnChkSelectedReltThem(fullReltThemNm)) {
	                            	txt += ' on';
	                            }
	                            txt += '" data-dvsn="' + 'them';
	                            txt += '" data-relt_them_cd="' + paramReltThemCd;
	                            txt += '" data-hrnk_relt_them_cd="' + paramhrnkReltThemCd;
	                            txt += '" data-relt_them_nm="' + reltThemNm;
	                            txt += '" data-full_relt_them_nm="' + fullReltThemNm;
	                            txt += '" data-all_yn="' + allYn;
	                            txt += '" onclick="fnSetSearchCode(this);">';
	                            txt += reltThemNm;
	                            txt += '</a>';
	                            txt += '</li>';
                            }
                        }
                        $(target).next().html(txt);
                    }
                },complete: function() {
                	fnPoint();
                    $(target).parent("li").addClass("on").find(".tree_depth_3").slideToggle(300);
                },
                error: function() {
                    return false;
                }
            });
        } else {
        	// 하위가 선택되면 동작을 멈춘다.
            var cnt = $(target).next().find('.on').length;
            if(cnt > 0) {
            	return false;
            }
        	fnPoint();
            $(target).parent("li").addClass("on").find(".tree_depth_3").slideToggle(300);
        }
    }
    
    function fnChkSelectedReltThem() {
    	var fullNm = arguments[0];
    	if(options.length > 0) {
	    	for(var i=0; i < options.length; i++) {
				var tmp = options[i];
				if(tmp == fullNm) {
					return true;
				}
			}
    	}
    	return false;
    }
    
    function fnSearchSubList2() {
        var target = arguments[0];
        var gvdptCd = arguments[1];
        var subCnt = $(target).next().find('li').length;
        if(subCnt == 0) {
            $.ajax({
                type: 'POST',
                url: '/polcTmsesSrvc/gvdpt/subCodeList?_csrf=1f37bb67-4cc6-477a-978d-85c6f35b18c1',
                data: {
                    GVDPT_CD : gvdptCd
                },
                cache: false,
                async: false,
                success: function(response) {
                    if(isNotEmpty(response)) {
                        var cnt = response.hrnkGvdptList.length;
                        var txt = '';
                        for(var i=0; i<cnt; i++) {
                            var gvdptCd = response.hrnkGvdptList[i].GVDPT_CD;
                            var hrnkGvdptCd = response.hrnkGvdptList[i].HRNK_GVDPT_CD;
                            var allYn = response.hrnkGvdptList[i].ALL_YN;
                            var gvdptNm = response.hrnkGvdptList[i].GVDPT_NM;
                            var fullGvdptNm = response.hrnkGvdptList[i].FULL_GVDPT_NM;
                            if(i > 0) { // 전체선택 제외
	                            txt += '<li>';
	                            txt += '<a href="#this" class="' + allYn + ' lev3';
	                            if(fnChkSelectedReltThem(fullGvdptNm)) {
	                            	txt += ' on';
	                            }
	                            txt += '" data-dvsn="' + 'gvdpt';
	                            txt += '" data-gvdpt_cd="' + gvdptCd;
	                            txt += '" data-hrnk_gvdpt_cd="' + hrnkGvdptCd;
	                            txt += '" data-gvdpt_nm="' + gvdptNm;
	                            txt += '" data-full_gvdpt_nm="' + fullGvdptNm;
	                            txt += '" data-all_yn="' + allYn;
	                            txt += '" onclick="fnSetSearchCode(this);">';
	                            txt += gvdptNm
	                            txt += '</a>';
	                            txt += '</li>';
                            }
                        }
                        $(target).next().html(txt);
                    }
                },complete: function() {
                	fnPoint();
                    $(target).parent("li").addClass("on").find(".tree_depth_3").slideToggle(300);
                },
                error: function() {
                    return false;
                }
            });
        } else {
        	// 하위가 선택되면 동작을 멈춘다.
            var cnt = $(target).next().find('.on').length;
            if(cnt > 0) {
            	return false;
            }
        	fnPoint();
            $(target).parent("li").addClass("on").find(".tree_depth_3").slideToggle(300);
        }
    }
    
    function fnModalClose() {
    	var dvsn = arguments[0];
    	if(dvsn == 'them') {
	    	$('#themModalSelect').find('li').remove();
	    	$('#dtlSearchReltThemModal .tree_depth_2').hide();
	    	$('#dtlSearchReltThemModal .tree_depth_3').find('a').removeClass('on');
	    	$('#dtlSearchReltThemModal').modal('hide');
        } else if(dvsn == 'gvdpt') {
	    	$('#gvdptModalSelect').find('li').remove();
	    	$('#dtlSearchGvdptModal .tree_depth_2').hide();
	    	$('#dtlSearchGvdptModal .tree_depth_3').find('a').removeClass('on');
	    	$('#dtlSearchGvdptModal').modal('hide');
        }
    }
    
    // 2017.12.04 김희도: 검색어 하이라이트
	function fnHighlightKeywords() {
		var keyListStr0 = '';
		keyListStr0 = keyListStr0.trim();
		var keyListStr1 = '';
		var keyListStr2 = '';
		var keyListStr3 = '';
		var keyListStr4 = '';
		var keyList = keyListStr0.split(' ');
		keyList.push(keyListStr1);
		keyList.push(keyListStr2);
		keyList.push(keyListStr3);
		keyList.push(keyListStr4);
		for(var i=0; i<keyList.length; i++) {
			// keyList[i] = '경제'
			if(keyList[i]) {
				var keyRegex = new RegExp(keyList[i], 'g');
				var keyAfter = '<em>' + keyList[i] + '</em>';
				$('.title strong').each(function() {
					$(this).html($(this).html().replace(keyRegex, keyAfter));
				});
				$('span.cont').each(function() {
					$(this).html($(this).html().replace(keyRegex, keyAfter));
				});
			}
		}
	}
    
    // 2017.12.05. 김희도: n개씩 보기
    function fnSetSearchViewCnt(viewCnt) {
    	$('input[name="viewCnt"]').val(viewCnt);
    	$('input[name="cPage"]').val('1');
    	var dtlSearchYn = $('#DTL_SEARCH_YN').val();
        if(isEmpty(dtlSearchYn)) dtlSearchYn = 'N'
        if(dtlSearchYn == 'Y') {
        	fnDtlSearch();
        } else {
        	fnMstSearch();
        }
    }
	
	// 2017.12.05. 김희도: 검색 엔터 키 입력 핸들러 (검색옵션 파라미터값 변경을 위해)
	$(document).on('keypress', '#search_text', function (e) {
		if(e.which === 13) {
			fnMstSearch();
			return false;
		}
	});
    
    $(document).on('keypress', '#DTL_SEARCH_TEXT_1, #DTL_SEARCH_TEXT_2, #DTL_SEARCH_TEXT_3', function (e) {
		if(e.which === 13) {
			fnDtlSearch();
			return false;
		}
	});
    
    // 2018.01.22. 김희도: 분류별검색 옵션 Ajax로 조회
    function fnDtlSearchReltThemModal() {
    	$.ajax({
            type: 'GET',
            url: '/searchReltThemCategories',
            data: {},
            cache: false,
            async: false,
            success: function(response) {
                if(isNotEmpty(response)) {
                    $('#dtlSearchReltThemModal').find('.tree_box').html(response);
                }
                if($('#searchThem').has('li')) {
                	if(options.length > 0) {
	                	options.splice(0, options.length);
                	}
                	
                	var parentCdArray = new Array();
                	var grandParentCdArray = new Array();
                	$('#searchThem').find('li').each(function(index) {
                		var $reltThemTarget = $(this).children('span');
                		var item = $reltThemTarget.text();
                		var itemCd = $reltThemTarget.data('value');
                		var itemPcd = $reltThemTarget.data('parent_cd');
                		var grandParentCd = $('.modal-content').find('[data-relt_them_cd="'+ itemPcd + '"]').closest('ul').siblings('a').data('relt_them_cd');
                		
                		var txt = '<li>';
                        txt += '<span data-sel_cd="' + itemCd + '" data-parent_sel_cd="' + itemPcd + '">' + item + '</span>';
                        txt += '<div class="check">';
                        txt += '<button type="button" onclick="javascript:fnXbtnDeleteSelect(\'them\', \'' + itemCd + '\');">';
                        txt += '<i class="icon_delete"></i><span class="sr-only">지우기</span>';
                        txt += '</button>';
                        txt += '</div>';
                        txt += '</li>';
                		
                		options[index] = item;
                        $('#themModalSelect').append(txt);
                        
                        if(parentCdArray.indexOf(itemPcd) == -1) {
                        	parentCdArray.push(itemPcd);
                        }
                        if(grandParentCdArray.indexOf(grandParentCd) == -1) {
                        	grandParentCdArray.push(grandParentCd);
                        }
                	});
                	
                	$.each(parentCdArray, function(idx, item) {
                		$('.modal-content').find('[data-relt_them_cd="'+ item + '"]').trigger('click');
                	});
                	
                	$.each(grandParentCdArray, function(idx, item) {
                		$('.modal-content').find('[data-relt_them_cd="'+ item + '"]').trigger('click');
                	});
                }
            },
            beforeSend: function() {
            	$('#loading').show();
            },
            complete: function() {
            	setTimeout(function(){$('#loading').hide();},500);
            },
            error: function() {
            	$('#loading').hide();
                return false;
            }
        });
    }
    
    function fnDtlSearchGvdptModal() {
    	$.ajax({
            type: 'GET',
            url: '/searchGvdptCategories',
            data: {},
            cache: false,
            async: false,
            success: function(response) {
                if(isNotEmpty(response)) {
                    $('#dtlSearchGvdptModal').find('.tree_box').html(response);
                }
                if($('#searchGvdpt').has('li')) {
                	if(options.length > 0) {
	                	options.splice(0, options.length);
                	}
                	
                	var parentCdArray = new Array();
                	var grandParentCdArray = new Array();
                	$('#searchGvdpt').find('li').each(function(index){
                		var $gvdptTarget = $(this).children('span');
                		var item = $gvdptTarget.text();
                		var itemCd = $gvdptTarget.data('value');
                		var itemPcd = $gvdptTarget.data('parent_cd');
                		var grandParentCd = $('.modal-content').find('[data-gvdpt_cd="'+ itemPcd + '"]').closest('ul').siblings('a').data('gvdpt_cd');
                		
                		var txt = '<li>';
                		txt += '<span data-sel_cd="' + itemCd + '" data-parent_sel_cd="' + itemPcd + '">' + item + '</span>';
                        txt += '<div class="check">';
                        txt += '<button type="button" onclick="javascript:fnXbtnDeleteSelect(\'gvdpt\', \'' + itemCd + '\');">';
                        txt += '<i class="icon_delete"></i><span class="sr-only">지우기</span>';
                        txt += '</button>';
                        txt += '</div>';
                        txt += '</li>';
                        
                        options[index] = item;
                        $('#gvdptModalSelect').append(txt);
                        
                        if(parentCdArray.indexOf(itemPcd) == -1) {
                        	parentCdArray.push(itemPcd);
                        }
                        if(grandParentCdArray.indexOf(grandParentCd) == -1) {
                        	grandParentCdArray.push(grandParentCd);
                        }
                	});
                	
                	$.each(parentCdArray, function(idx, item) {
                		$('.modal-content').find('[data-gvdpt_cd="'+ item + '"]').trigger('click');
                	});
                	
                	$.each(grandParentCdArray, function(idx, item) {
                		$('.modal-content').find('[data-gvdpt_cd="'+ item + '"]').trigger('click');
                	});
                }
            },
            beforeSend: function() {
            	$('#loading').show();
            },
            complete: function() {
            	setTimeout(function(){$('#loading').hide();},500);
            },
            error: function() {
            	$('#loading').hide();
                return false;
            }
        });    	
    }
    
    // datepicker 상태 초기화
   	function fnDataPickerInit() {
   		$("#DTL_SEARCH_START_DT").datepicker({ dateFormat: 'yy-mm-dd' });
		$("#DTL_SEARCH_END_DT").datepicker({ dateFormat: 'yy-mm-dd' });
		
		var paramDtlSchStDt = '';
		var paramDtlSchEdDt = '';
		if(isEmpty(paramDtlSchStDt)) {
			$("#DTL_SEARCH_START_DT").datepicker('setDate', '1990-01-01');
		}
		if(isEmpty(paramDtlSchEdDt)) {
			$("#DTL_SEARCH_END_DT").datepicker('setDate', '{intYear}-12-31');
		}
		
		// 엔터키 submit 방지
		$("#DTL_SEARCH_START_DT, #DTL_SEARCH_END_DT").on('keydown', function(event) {
			if (event.keyCode === 13) {
				event.preventDefault();
			}
		});
    }
    
    function fnPoint() {
		$('.tree_depth_1 > li').not('.dim').find('.tree_depth_2').find('li').removeClass('on');
		$('.tree_depth_1 > li').not('.dim').find('.tree_depth_2').find('.lev3.on').each(function(k,v){
			var target = $(this).parent().parent().parent();
			target.addClass('on');
		});
	}
    
   	function fnDtlSearchDelete() {
   		var target = arguments[0];
   		$(target).closest('li').remove();
   	}
    
    $(document).ready(function() {
    	// 상세 열었을 때 첫번째 검색어 포커스
    	$('#moreSearch').on('shown.bs.collapse', function() {
    		$('#DTL_SEARCH_TEXT_1').focus();
    		$('#search_text').val('');
    		$('#search_text').css('background-color', '#E1E1E1');
    		$('#search_text').attr('disabled', true);
    		$('#search_submit').attr('disabled', true);
		}).on('hidden.bs.collapse', function() {
			$('#btnDetail').blur();
			$('#search_text').css('background-color', '');
			$('#search_text').attr('disabled', false);
			$('#search_submit').attr('disabled', false);
			$('#search_text').focus();
		});
    	
    	$('[data-toggle="tooltip"]').tooltip();
        $('[data-toggle="popover"]').popover();
        
        var searchHeight = $("#search .right_board").height();
        $("#search .left_nav").css({
            height: searchHeight+60
        });
        
        var searchType = 'ALL';
        if( searchType == 'CTE'
         || searchType == 'EPIC' 
         || searchType == 'FRWD' 
         || searchType == 'POLC' 
         || searchType == 'PRES' 
         || searchType == 'RSCH' 
         || searchType == 'POL' ) {
            $('#depthUl').show();
        }
        
        var dtlSearchYn = 'N';
        var requestURI = '/polcTmsesSrvc/them';
        if(requestURI.indexOf('/search') > -1) {
	        if(dtlSearchYn == 'Y') {
// 	        	$('#btnDetail').click();
// 	        	$('#DTL_SEARCH_TEXT_1').focus();
	        } else {
		        fnSearchType(searchType);
	        	$('#search_text').focus();
	        }
        }
        
//         $('input[name="DTL_SEARCH_ORDR"]').click(function() {
//         	$('#SEARCH_ORDR').val($(this).val());
//         });
        
        // 1레벨 주제
        $('#dtlSearchReltThemModal .tree_depth_1>li>a').click(function(e) {
            var target = $(e.target);
            var targetSub = target.parent();
            if(target.hasClass('curout') || targetSub.hasClass('curout')) {
                return false;
            } else {
                $(this).parent('li').siblings('li').removeClass('on').find('.tree_depth_2').slideUp(300);
                $('#dtlSearchReltThemModal .tree_depth_2>li').removeClass('on').find('#dtlSearchReltThemModal .tree_depth_3').slideUp(300);
                $(this).parent('li').addClass('on').find('.tree_depth_2').slideToggle(300);
            }
        });
        $('#dtlSearchGvdptModal .tree_depth_1>li>a').click(function(e) {
            var target = $(e.target);
            var targetSub = target.parent();
            if(target.hasClass('curout') || targetSub.hasClass('curout')) {
                return false;
            } else {
                $(this).parent('li').siblings('li').removeClass('on').find('.tree_depth_2').slideUp(300);
                $('#dtlSearchGvdptModal .tree_depth_2>li').removeClass('on').find('#dtlSearchGvdptModal .tree_depth_3').slideUp(300);
                $(this).parent('li').addClass('on').find('.tree_depth_2').slideToggle(300);
            }
        });
        
        // 2017.12.04 김희도: 검색어 하이라이트
        fnHighlightKeywords();
        
        // 2019.11.21 한덕규: 모달창 X버튼으로 닫을때 이벤트 등록
        $('#dtlSearchReltThemModal').on('hidden.bs.modal', function (e) {
        	$('#themModalSelect').find('li').remove();
	    	$('#dtlSearchReltThemModal .tree_depth_2').hide();
	    	$('#dtlSearchReltThemModal .tree_depth_3').find('a').removeClass('on');
		});
		$('#dtlSearchGvdptModal').on('hidden.bs.modal', function (e) {
			$('#gvdptModalSelect').find('li').remove();
	    	$('#dtlSearchGvdptModal .tree_depth_2').hide();
	    	$('#dtlSearchGvdptModal .tree_depth_3').find('a').removeClass('on');
		});
		
		// 2019.11.21 한덕규: datepicker 설정
		fnDataPickerInit();
		
		// 2021.02.04 장찬양: 내가 찾은 검색어 설정함수
		fnSetMySearchWord('');// cookie 저장
		fnMySearchInit(); // 내가 찾은 검색어
		fnGetPopWord();	// 인기검색어
		fnGetPopWordMain(); // 메인 인기검색어
		fnGetRelWord();	// 관련검색어
		
		function highlightText(term, obj){
	    	let html_ = $(obj).text();
	    	html_ = html_.replace(term, "<em>"+term+"</em>");
			$(obj).html(html_);
	    }
		
		// 2021.02.04 장찬양: 검색어 자동완성
		$("#search_text").autocomplete({
			source: function(request, response) {
				var term = $.ui.autocomplete.escapeRegex(request.term);
				var matcher1 = new RegExp("^" + term, "i");
				var matcher2 = new RegExp("^.+" + term, "i");
				function subarray(matcher) {return $.grep(useArray, function(item) {return matcher.test(item);});}
				response($.merge(subarray(matcher1), subarray(matcher2)));
			},
			autoFocus: false
		}).data("ui-autocomplete")._renderItem = function (ul, item) {
		  	var $a = $("<a></a>").text(item.label);
		  	highlightText(this.term, $a);
		  	return $("<li></li>").append($a).appendTo(ul);
		};
		$("#search_text").keyup(function (){
// 			if ($("#search_text").val().charCodeAt(0) >= 44032) {
// 				if (checksubquery($("#search_text").val())) {
// 					$("#search_text").autocomplete({
// 						source: function(request, response) {
// 							$.ajax({
// 								url: "/getSearchWord?type=REL&term="+ encodeURI($.trim($("#search_text").val())),
// 								dataType: "text",
// 								success: function(data) {
// 									response(eval(data));
// 								}
// 							});
// 						},
// 						autoFocus: false
// 					}).data("ui-autocomplete")._renderItem = function (ul, item) {
// 					  	var $a = $("<a></a>").text(item.label);
// 					  	highlightText(this.term, $a);
// 					  	return $("<li></li>").append($a).appendTo(ul);
// 					};
// 				}
// 				else {
					$("#search_text").autocomplete({
						source: function(request, response) {
							var term = $.ui.autocomplete.escapeRegex(request.term);
							var matcher1 = new RegExp("^" + term, "i");
							var matcher2 = new RegExp("^.+" + term, "i");
							function subarray(matcher) {return $.grep(useArray, function(item) {return matcher.test(item);});}
							var resultarr = $.merge(subarray(matcher1), subarray(matcher2));
							response(resultarr.slice(0, 10));
						},
						autoFocus: false,
						delay: 300
					}).data("ui-autocomplete")._renderItem = function (ul, item) {
					  	var $a = $("<a></a>").text(item.label);
					  	highlightText(this.term, $a);
					  	return $("<li></li>").append($a).appendTo(ul);
					};
// 				}
// 			}
		});
    });
    
    
    
    function fnMySearchInit(){
    	const cookieArray = document.cookie.split(";");
    	let cookieName = "myWord";
    	let cookieVal = "";
    	
    	let values = new Array();
    	
    	for(let i=0; i<cookieArray.length; i++) {
    	    if(cookieArray[i].indexOf(cookieName) > 0) {
    	    	cookieVal = cookieArray[i].split("=")[1];
    	    }
   	  	}
    	
    	if(cookieVal.split(",").length > 0){
    		let valueArray = cookieVal.split(",");
    		let html_ = "";
    		let viewcount = 0;
	    	for(let i=valueArray.length-1; i>=0; i--){
	    		if(valueArray[i] != ""){
		    		html_ += "<li>";
		    		html_ += "<p><a href=\"javascript:$('#search_text').val('"+decodeURIComponent(valueArray[i])+"');fnMstSearch();\">"+decodeURIComponent(valueArray[i])+"</a></p>";
		    		html_ += "<button type='button' onclick=\"fnDeletMySearchWord('"+decodeURIComponent(valueArray[i])+"');\">X</button>";
		    		html_ += "</li>";
	    		}
	    		viewcount ++;
	    		if(viewcount == 10) break;
	    	}
    		$("#mysearchwordWrap").empty();
    		$("#mysearchwordWrap").append(html_);
    	}
    }   
    
    function fnSetMySearchWord(searchWord){
    	const cookieArray = document.cookie.split(";");
    	let cookieName = "myWord";
    	let cookieVal = "";
    	
    	let values = new Array();
    	
    	for(let i=0; i<cookieArray.length; i++) {
    	    if(cookieArray[i].indexOf(cookieName) > 0) {
    	    	cookieVal = cookieArray[i].split("=")[1];
    	    }
   	  	}
    	
    	let isPush = true;
    	for(let i=0; i<cookieVal.split(",").length; i++){
    		if(cookieVal.split(",")[i] != ""){
    			values.push(cookieVal.split(",")[i]);
    		}
    		
    		if(searchWord != "" && cookieVal.split(",")[i] == encodeURIComponent(searchWord)){
    			isPush = false;
    		}
    	}
    	if(isPush) values.push(encodeURIComponent(searchWord));
    	
		let date = new Date();
		date.setTime(date.getTime() + (7 * (24 * 60 * 60 * 1000)));
		let expires = '; expires=' + date.toUTCString();

		document.cookie = cookieName + '=' + values + expires + '; path=/';
    }
    
    function fnDeletMySearchWord(deleteWord){
    	const cookieArray = document.cookie.split(";");
    	let cookieName = "myWord";
    	let cookieVal = "";
    	
    	let values = new Array();
    	
    	for(let i=0; i<cookieArray.length; i++) {
    	    if(cookieArray[i].indexOf(cookieName) > 0) {
    	    	cookieVal = cookieArray[i].split("=")[1];
    	    }
   	  	}
    	
    	for(let i=0; i<cookieVal.split(",").length; i++){
    		if(cookieVal.split(",")[i] != encodeURIComponent(deleteWord)){
    			values.push(cookieVal.split(",")[i]);
    		}
    	}
    	
		let date = new Date();
		date.setTime(date.getTime() + (7 * (24 * 60 * 60 * 1000)));
		let expires = '; expires=' + date.toUTCString();

		document.cookie = cookieName + '=' + values + expires + '; path=/';
		
		fnMySearchInit();
    }
    
    function fnGetPopWord(){
    	$.ajax({
    		url: "/getSearchWord?type=POP",
    		dataType: "text",
    		success: function(data) {
    			let rankdata = eval(data);
    			
   				if(rankdata.length > 0){
	    			$("#popsearchwordWrap").empty();
	    			let html_ = "";
	    			let rank = 1;
	    			for (var k=0; k<rankdata.length; k++) {
	    				let str = rankdata[k][0];
	    				html_ += "<li><em>"+rank+"</em> <p><a href=\"javascript:$('#search_text').val('"+str+"');fnMstSearch();\">"+str+"</a></p></li>";
	    				rank ++;
	    			}
	    			$("#popsearchwordWrap").append(html_);
   				}
    		}
    	});
    }
    
    function fnGetPopWordMain() {
    	$.ajax({
    		url: "/getSearchWord?type=POP",
    		dataType: "text",
    		success: function(data) {
    			let rankdata = eval(data);
   				if(rankdata.length > 0){
	    			$("#popsearchwordWrapMain").empty();
	    			let html_ = "<ul>";
	    			for (var k=0; k<6; k++) {
	    				let str = rankdata[k][0];
	    				html_ += "<li><a href=\"javascript:$('#search_text').val('"+str+"');fnMstSearch();\">"+str+"</a></li>";
	    			}
	    			html_ += "</ul>";
	    			$("#popsearchwordWrapMain").append(html_);
   				}
    		}
    	});
    }
    
    function fnGetRelWord(){
    	let target = $("#search_text").val();
    	if(target != ""){
    		$.ajax({
        		url: "/getSearchWord?type=REL&term="+ encodeURI(target),
        		dataType: "text",
        		success: function(data) {
        			let reldata = eval(data);
        			
       				if(reldata.length > 0){
       					$("#relDiv").show();
       					$(".all_srarch.word").removeAttr("style");
    	    			$("#relsearchwordWrap").empty();
    	    			let html_ = "";
    	    			let rank = 1;
    	    			for (var k=0; k<reldata.length; k++) {
    	    				let str = reldata[k];
    	    				html_ += "<li><a href=\"javascript:$('#search_text').val('"+str+"');fnMstSearch();\">"+str+"</a></li>";
    	    				rank ++;
    	    			}
    	    			$("#relsearchwordWrap").append(html_);
    	    			popularSearchTerms(); // pub
       				}
       				else {
       					$("#relDiv").hide();
       				}
        		}
        	});
    	}
    }
    
    function checksubquery(str) { 
    	var thsistring = str.charAt(str.length - 1);
    	if ($.trim(str) == "") return false;
    	else if (thsistring == " ") return true;
    	else return false;
    }
    
    var popularOpen = function(e){
    	  if( !$(e).hasClass('on') ){
    	    $(e).addClass('on');
    	    $(e).html('-');
    	    $(e).parent().find('ul').css('height','auto');
    	  } else {
    	    $(e).removeClass('on');
    	    $(e).html('+');
    	    $(e).parent().find('ul').css('height',22);
    	  }
    	};
    	var tabRankingCK = function(e){
    	  if( $(document).width() < 990 ){
    	    $('.last_ranking').find('h5 button').removeClass('on');
    	    $('.last_ranking').find('h5 button').eq(e).addClass('on');
    	    $('.last_ranking').find('.r_wrap').each(function(){ $(this).find('li').eq(0).parent().removeClass('open') });
    	    $('.last_ranking').find('.r_wrap').eq(e).find('li').eq(0).parent().addClass('open');
    	  }
    	};
    	var popularSearchTerms = function(){
    		if( $('.popular_search-terms').length ){
    			if( $('.popular_search-terms').find('ul').height() <= 22 ){
    				$('.popular_search-terms').find('button').hide();
    			} else {
    				$('.popular_search-terms').find('ul').css('height',22);
    			}
    		}
    	};
</script>



<div id="main_search">
    <h3 class="sr-only">통합검색</h3>
    <div class="search_form_wrap">
        <div class="container">
            <form id="searchEngineForm" name="searchEngineForm" class="form-inline" action="/search" method="post" onsubmit="return fnMstValidateForm()">
				<input type="hidden" name="_csrf" value="1f37bb67-4cc6-477a-978d-85c6f35b18c1" />
				<!-- 검색 조건 -->
				<input type="hidden" id="mstPage" name="cPage" value="1" />
				<input type="hidden" id="mstViewCnt" name="viewCnt" value="10" />
				<input type="hidden" id="SEARCH_ENGINE_TYPE" name="SEARCH_ENGINE_TYPE" value="ALL" />
				<input type="hidden" id="SEARCH_ORDR" name="SEARCH_ORDR" value="COR" />
				<!-- 검색 조건 -->
                <fieldset class="all_srarch word">
                    <legend>검색</legend>
                    
                    <div class="input-group-btn">
                        <button type="button" id="search_subject" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                            <span id="m_searchOrdrTxt">전체</span><span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" role="menu">
	                  		<li id="s_all">
	                  			<a href="#this" onclick="fnSearchType('ALL');">전체</a>
	                        </li>
	                        <li id="s_tit">
	                            <a href="#this" onclick="fnSearchType('CTE');">정책시계열</a>
	                        </li>
	                        <li id="s_cont">
	                            <a href="#this" onclick="fnSearchType('EPOL');">경제정책자료</a>
	                        </li>
	                        <li id="s_cont">
	                            <a href="#this" onclick="fnSearchType('DRCH');">국내연구자료</a>
	                        </li>
	                        <li id="s_list">
	                            <a href="#this" onclick="fnSearchType('BBS');">참여광장</a>
	                        </li>
	                        <li id="s_cont">
	                            <a href="#this" onclick="fnSearchType('PAGE');">사업소개</a>
	                        </li>
                        </ul>
                    </div>
                    <label class="sr-only" for="search_text">검색어 입력창</label>
                    <input type="text" class="form-control" id="search_text" name="search_text" title="검색어를 입력하세요." value="">
                    
                    <!-- 자동완성 -->
<!--                     <ul class="relation_word" id="completeWrap" style="display: none;"></ul> -->
                    
                    <button type="button" id="search_submit" title="검색" onclick="fnMstSearch();">
                        <span class="sr-only">검색</span>
                        <i class="icon_search"></i>
                    </button>
                    <button type="button" id="btnDetail" class="btn_detail" data-toggle="collapse" href="#moreSearch">상세검색 <i class="glyphicon glyphicon-menu-down"></i></button>
                </fieldset>
            </form>
            
            <!-- 연관검색어 -->
            <div id="relDiv" class="popular_search-terms" style="display: none;">
		        <div class="terms_wrap">
					<ul id="relsearchwordWrap"></ul>
		          	<button type="button" onclick="popularOpen(this)">+</button>
				</div>
	      	</div>
            
            <form id="moreSearch" name="moreSearch" class="form-horizontal collapse" action="/search" method="post" onsubmit="return fnDtlValidateForm()">
                <input type="hidden" name="_csrf" value="1f37bb67-4cc6-477a-978d-85c6f35b18c1">
                <input type="hidden" id="dtlPage" name="cPage" value="1">
                <input type="hidden" id="dtlViewCnt" name="viewCnt" value="10">
                <!-- 상세검색 조건 -->
                <input type="hidden" id="DTL_SEARCH_ORDR2" name="SEARCH_ORDR" value="COR">
                <input type="hidden" id="DTL_SEARCH_YN" name="DTL_SEARCH_YN" value="N">
                <input type="hidden" id="DTL_SEARCH_ENGINE_TYPE" name="DTL_SEARCH_ENGINE_TYPE" value="ALL">
                <input type="hidden" id="DTL_SEARCH_RELT_THEM_CD" name="DTL_SEARCH_RELT_THEM_CD" value="">
                <input type="hidden" id="DTL_SEARCH_GVDPT_CD" name="DTL_SEARCH_GVDPT_CD" value="">
                <!-- 상세검색 조건 -->
                <fieldset class="detail_srarch">
                    <legend>상세검색</legend>
                    <div class="form-box sort"> 
                        <label class="col-lg-2 col-md-2 col-xs-12">검색정렬</label>
                        <div class="input_wrap col-lg-10 col-md-10 col-xs-12">
                            <div class="half">
                                <div class="radio_box radio-inline">
	                                <input type="radio" id="DTL_SEARCH_ORDR_1" name="DTL_SEARCH_ORDR" value="DESC" checked="checked">
	                                
	                                <label for="DTL_SEARCH_ORDR_1">최신순</label>
	                            </div>
	                            <div class="radio_box radio-inline">
	                                <input type="radio" id="DTL_SEARCH_ORDR_2" name="DTL_SEARCH_ORDR" value="ASC" >
	                                <label for="DTL_SEARCH_ORDR_2">과거순</label>
	                            </div>
	                            <div class="radio_box radio-inline">
	                                <input type="radio" id="DTL_SEARCH_ORDR_3" name="DTL_SEARCH_ORDR" value="COR" >
	                                <label for="DTL_SEARCH_ORDR_3">정확도</label>
	                            </div>
	                        </div>
                        </div>
                    </div>
                    <div class="form-box form-inline period">
                        <label class="col-lg-2 col-md-2 col-xs-12" for="search_year">검색기간</label>
                        <div class="input_wrap col-lg-10 col-md-10 col-xs-12">
                            <div class="half">
								<div class="input-group date">
	                                <input type="text" class="form-control text-center" id="DTL_SEARCH_START_DT" name="DTL_SEARCH_START_DT" value="" 
	                                	data-date-format="yyyy-mm-dd" onkeydown="fnDateOnKeydown(this, event, 'DTL_SEARCH_START_DT');" onchange="fnDateOnChange(this, 'DTL_SEARCH_START_DT');"/>
									<span class="input-group-addon">
					                    <span class="glyphicon glyphicon-calendar"></span>
					                </span>
								</div>
                                <span class="tilde">~</span>
                                <div class="input-group date">
	                                <input type="text" class="form-control text-center" id="DTL_SEARCH_END_DT" name="DTL_SEARCH_END_DT" value="" 
	                                	data-date-format="yyyy-mm-dd" onkeydown="fnDateOnKeydown(this, event, 'DTL_SEARCH_END_DT');" onchange="fnDateOnChange(this, 'DTL_SEARCH_END_DT');"/>
									<span class="input-group-addon">
					                    <span class="glyphicon glyphicon-calendar"></span>
					                </span>
								</div>
                            </div>
                            <div class="other_btn sub"><input type="checkbox" name="DTL_SEARCH_FILE" id="DTL_SEARCH_FILE" value="Y" ><label for="originalPlus">원문 검색 포함</label></div>
                        </div>
                    </div>
                    <div class="form-box form-inline keyword_wrap">
                        <label class="col-lg-2 col-md-2 col-xs-12" for="keyword">검색키워드</label>
                        <div class="input_wrap col-lg-10 col-md-10 col-xs-12">
                            <div class="half left">
                            	<label for="DTL_SEARCH_TEXT_1"  class="sr-only">검색어를 입력하세요.</label>
                                <input type="text" class="form-control" id="DTL_SEARCH_TEXT_1" name="DTL_SEARCH_TEXT_1" placeholder="검색어를 입력하세요." value="">
                                <div class="dropdown">
                                 	<label for="DTL_SEARCH_OPTION_1"  class="sr-only">검색옵션</label>
                                    <select id="DTL_SEARCH_OPTION_1" name="DTL_SEARCH_OPTION_1">
                                        <option value="and" selected="selected">AND</option>
                                        <option value="or" >OR</option>
                                        <option value="andnot" >NOT</option>
                                    </select>
                                </div>
                            </div>
                            <div class="half">
                            	<label for="DTL_SEARCH_TEXT_2"  class="sr-only">검색어를 입력하세요.</label>
                                <input type="text" class="form-control" id="DTL_SEARCH_TEXT_2" name="DTL_SEARCH_TEXT_2" placeholder="검색어를 입력하세요." value="">
                                <div class="dropdown">
                                	<label for="DTL_SEARCH_OPTION_2"  class="sr-only">검색옵션</label>
                                    <select id="DTL_SEARCH_OPTION_2" name="DTL_SEARCH_OPTION_2">
                                        <option value="and" selected="selected">AND</option>
                                        <option value="or" >OR</option>
                                        <option value="andnot" >NOT</option>
                                    </select>
                                </div>
                            </div>
                            <div class="half left">
                            	<label for="DTL_SEARCH_TEXT_3"  class="sr-only">검색어를 입력하세요.</label>
                                <input type="text" class="form-control" id="DTL_SEARCH_TEXT_3" name="DTL_SEARCH_TEXT_3" placeholder="검색어를 입력하세요." value="">
                                <div class="dropdown">
                                	<label for="DTL_SEARCH_OPTION_3"  class="sr-only">검색옵션</label>
                                    <select id="DTL_SEARCH_OPTION_3" name="DTL_SEARCH_OPTION_3">
                                        <option value="and" selected="selected">AND</option>
                                        <option value="or" >OR</option>
                                        <option value="andnot" >NOT</option>
                                    </select>
                                </div>
                            </div>
                            <div class="half">
                            	<label for="DTL_SEARCH_TEXT_4"  class="sr-only">검색어를 입력하세요.</label>
                                <input type="text" class="form-control" id="DTL_SEARCH_TEXT_4" name="DTL_SEARCH_TEXT_4" placeholder="검색어를 입력하세요." value="">
                            </div>
                        </div>
                    </div>
                    <div class="form-box group_wrpa">
                        <label class="col-lg-2 col-md-2 col-xs-12">분류별검색</label>
                        <div class="input_wrap col-lg-10 col-md-10 col-xs-12">
                            <div class="half">
                                <button type="button" data-toggle="modal" data-target="#dtlSearchReltThemModal" style="width:100%;"
                                 onclick="javascript:fnDtlSearchReltThemModal(this)">주제분류별<i class="icon_create"></i></button>
                                <label for="searchThem"  class="sr-only">주제 선택 리스트</label>
                                <ul id="searchThem">
                                	
								</ul>
                            </div>
                            <div class="half">
                                <button type="button" data-toggle="modal" data-target="#dtlSearchGvdptModal" style="width:100%;"
                                 onclick="javascript:fnDtlSearchGvdptModal(this)">부처분류별<i class="icon_create"></i></button>
                                <label for="searchGvdpt"  class="sr-only">주제 선택 리스트</label>
<!--                                 <select id="searchGvdpt" name="searchGvdpt" title="주제입력" multiple="multiple" disabled="disabled"> -->





<!--                                 </select> -->
                                
                                <ul id="searchGvdpt">
                                	
								</ul>
                            </div>
                        </div>
                    </div>
                    <div class="center">
                        <button type="submit" class="btn_submit" onclick="fnDtlSearch();">검색하기</button>
                        <button type="button" class="btn_clear" onclick="fnDtlSearchClear();">초기화</button>
                        <button type="button" class="btn_close" data-toggle="collapse" href="#moreSearch" >닫기</button>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
    
</div>

<!-- Modal -->
<div class="modal fade bs-example-modal-lg in" id="dtlSearchReltThemModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-label="Close" onclick="fnModalClose('them');"><img src="/resources/images/modal_close.png" alt="모달창 닫기"></button>
                <h2 class="modal-title" id="myModalLabel">주제분류별 찾기</h2>
            </div>
            <div class="modal-body">
                <div class="tree_box">
                	
                </div>
                <ul id="themModalSelect" class="archive_board">
				</ul>
            </div>
			<div class="modal-footer">
			    <button type="button" onclick="fnSetSelect('them');">확인</button>
			    <button type="button" class="btn_close" onclick="fnModalClose('them');">닫기</button>
			</div>
        </div>
    </div>
</div>

<div class="modal fade bs-example-modal-lg in" id="dtlSearchGvdptModal" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" aria-label="Close" onclick="fnModalClose('gvdpt');"><img src="/resources/images/modal_close.png" alt="모달창 닫기"></button>
                <h2 class="modal-title" id="myModalLabel">부처분류별 찾기</h2>
            </div>
            <div class="modal-body">
                <div class="tree_box">
                    
                </div>
                <ul id="gvdptModalSelect" class="archive_board">
                </ul>
            </div>
			<div class="modal-footer">
			    <button type="button" onclick="fnSetSelect('gvdpt');">확인</button>
			    <button type="button" class="btn_close" onclick="fnModalClose('gvdpt');">닫기</button>
			</div>
        </div>
    </div>
</div>

<div class="modal fade" tabindex="-1" id="searchModal" aria-hidden="true"></div>



	</div>


<nav class="modal fade" tabindex="-1" id="gnbMobile">
    <h2 class="sr-only">모바일 주메뉴</h2>
    <div class="nav_menu">
        <div class="top_btn"> 
        	<a href="#none" title="사이트맵 바로가기" class="allMenuM" data-toggle="modal" data-target="#allMenu">
        		<i class="glyphicon glyphicon-menu-hamburger"></i>사이트맵
       		</a>
       		
       		
	       		<a href="/search" title="통합검색 바로가기" class="btnSearchM">
	       			<i class="glyphicon glyphicon-search"></i>통합검색
	       		</a>
       		
       	</div>
        <ul>
			
				
					<li class="depth1">
						
								<a data-toggle="collapse" href="#navlist0" class="collapsed">
									정책시계열서비스
									
								</a>
								<div id="navlist0" class="panel-collapse collapse">
									<ul class="depth2">
										
											
												<li>
													<a href="/polcTmsesSrvc/them">주제별보기</a>
												</li>
											
										
											
												<li>
													<a href="/polcTmsesSrvc/gvdpt">부처별보기</a>
												</li>
											
										
											
												<li>
													<a href="/polcTmsesSrvc/issu">이슈별시계열</a>
												</li>
											
										
											
										
											
												<li>
													<a href="/polcTmsesSrvc/newUp">최신시계열</a>
												</li>
											
										
											
												<li>
													<a href="/polcTmsesSrvc/hot">인기시계열</a>
												</li>
											
										
											
												<li>
													<a href="/polcTmsesSrvc/pageView/466">주제별/부처별분류표</a>
												</li>
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
									</ul>
								</div>
							
					</li>
				
			
				
					<li class="depth1">
						
								<a data-toggle="collapse" href="#navlist1" class="collapsed">
									아카이브
									
								</a>
								<div id="navlist1" class="panel-collapse collapse">
									<ul class="depth2">
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
												<li>
													<a href="/archive/frwdHist">정책자료</a>
												</li>
											
										
											
												<li>
													<a href="/archive/polcExpnaon">정책해설</a>
												</li>
											
										
											
												<li>
													<a href="/archive/presTrnd">언론동향</a>
												</li>
											
										
											
												<li>
													<a href="/archive/rschData">연구자료</a>
												</li>
											
										
											
												<li>
													<a href="/archive/polSuvy">여론조사</a>
												</li>
											
										
											
												<li>
													<a href="/archive/infoVideo">멀티콘텐츠</a>
												</li>
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
									</ul>
								</div>
							
					</li>
				
			
				
					<li class="depth1">
						
								<a data-toggle="collapse" href="#navlist2" class="collapsed">
									참여광장
									
								</a>
								<div id="navlist2" class="panel-collapse collapse">
									<ul class="depth2">
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
												<li>
													<a href="/joinSquare/post/notice">공지사항</a>
												</li>
											
										
											
												<li>
													<a href="/joinSquare/post/faq">자주하는 질문</a>
												</li>
											
										
											
												<li>
													<a href="/joinSquare/pageView/467">이용방법</a>
												</li>
											
										
											
												<li>
													<a href="/joinSquare/useInqr">이용문의</a>
												</li>
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
									</ul>
								</div>
							
					</li>
				
			
				
					<li class="depth1">
						
								<a data-toggle="collapse" href="#navlist3" class="collapsed">
									사업소개
									
								</a>
								<div id="navlist3" class="panel-collapse collapse">
									<ul class="depth2">
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
												<li>
													<a href="/bussIntd/pageView/463">프로젝트소개</a>
												</li>
											
										
											
												<li>
													<a href="/bussIntd/pageView/464">정책수록현황</a>
												</li>
											
										
											
												<li>
													<a href="/bussIntd/pageView/465">부처변천사</a>
												</li>
											
										
											
												<li>
													<a href="/bussIntd/pageView/462">유용한링크</a>
												</li>
											
										
											
										
											
										
											
										
											
										
											
										
											
										
									</ul>
								</div>
							
					</li>
				
			
				
					<li class="depth1">
						
								<a data-toggle="collapse" href="#navlist4" class="collapsed">
									나의시계열
									<span>0</span>
								</a>
								<div id="navlist4" class="panel-collapse collapse">
									<ul class="depth2">
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
										
											
												<li>
													<a href="/myTmses/toList">내가 본 정책 자료</a>
												</li>
											
										
											
												<li>
													<a href="/myTmses/myCart">내가 담은 정책자료</a>
												</li>
											
										
											
												<li>
													<a href="/myTmses/storage">나의 시계열 보관함</a>
												</li>
											
										
											
										
											
										
											
										
									</ul>
								</div>
							
					</li>
				
			
				
			
        </ul>
        <div class="other_mu">
			<a href="/foreign/time" class="l">대외원조역사</a>
			<a href="/polcTmsesSrvc/callRss" target="_blank" class="r">RSS</a>
		</div>
        <div class="util">
			
					<a href="/sign/terms" class="join">회원가입</a>
					<a href="/frontLogin" class="login">로그인</a>
				
		</div>
    </div>
</nav>

<form id="logoutForm" name="logoutForm" action="/logout" method="post">
    <input type="hidden" name="_csrf" value="1f37bb67-4cc6-477a-978d-85c6f35b18c1">
</form>
	    <!-- //header -->

	    <!-- body -->
        <script type="text/javascript" src="/resources/jslb/fattCommon.js"></script>
<script type="text/javascript" src="/resources/jslb/bbsCommon.js"></script>
<script type="text/javascript" src="/resources/jslb/cteFrontCommon.js"></script>
<script type="text/javascript" src="/resources/jslb/myTmses.js"></script>

<script>
	
	var glReltThemCd = '';
	var glAllYn = 'N';
	var glStartRn = 1; // 페이징 전역 변수
	var glEndRn = 20; // 페이징 전역 변수
	var glSearchCteSeq = '';
	var glSearchType = '';

	// 2021.01.04 검색 하이라이트 설정
	var hilightTxt = "";
// 	if(hilightTxt == ""){
// 		hilightTxt = "경제";
// 	}
	
	function fnSearchSubList() {
		var target = arguments[0];
		var reltThemCd = arguments[1];
		var subCnt = $(target).next().find('li').length;
		var treeDepth = $(target).next().attr('class');
		if(subCnt == 0) {
		    $.ajax({
		    	type: 'GET',
	            url: '/polcTmsesSrvc/them/subCodeList?_csrf=1f37bb67-4cc6-477a-978d-85c6f35b18c1',
	            data: {
	                RELT_THEM_CD : reltThemCd
	            },
	            cache: false,
	            async: false,
	            success: function(response) {
	                if(isNotEmpty(response)) {
	                	var cnt = response.hrnkReltThemList.length;
	                	var txt = '';
	                	for(var i=0; i<cnt; i++) {
	                		var paramReltThemCd = response.hrnkReltThemList[i].RELT_THEM_CD;
	                		var paramhrnkReltThemCd = response.hrnkReltThemList[i].HRNK_RELT_THEM_CD;
	                		var allYn = response.hrnkReltThemList[i].ALL_YN;
	                		var reltThemNm = response.hrnkReltThemList[i].RELT_THEM_NM;
	                		var lev3 = ''; 
	                		if(i > 0) lev3 = ' lev3';
	                		
	                		if(treeDepth == 'tree_depth_2') {
	                			if(reltThemCd == paramhrnkReltThemCd) {
		                			txt += '<li>';
		                			txt += '<a href="#this" data-relt_them_cd="'+ paramReltThemCd + '" onclick="fnSearchSubList(this, \''+ paramReltThemCd +'\');">';
		                			txt += '<i>하위폴더 열림</i>' + reltThemNm;
		                			txt += '</a>';
		                			txt += '<ul class="tree_depth_3"></ul>';
		                			txt += '</li>';
	                			}
	                		} else if(treeDepth == 'tree_depth_3') {
		                		txt += '<li>';
		                		txt += '<input type="checkbox" name="ctgChkBox" onclick="fnConnectLabel(this)"/>';
		                		txt += '<label class="' + allYn + lev3; 
		                		txt += '" data-relt_them_cd="' + paramReltThemCd;
		                		txt += '" data-hrnk_relt_them_cd="' + paramhrnkReltThemCd;
		                		txt += '" data-all_yn="' + allYn;
		                		txt += '" onclick="fnSearchTimeLine(' + "\'" + paramReltThemCd + "\'" + ', \'\', '+ "\'" + allYn + "\'" + ', this);">';
		                		txt += reltThemNm;
		                		txt += '</label>';
		                		txt += '</li>';
	                		}
	                	}
	                	$(target).next().html(txt);
	                }
	            },complete: function() {
                    fnPoint();
                    if(treeDepth == 'tree_depth_3') {
		                $(target).parent("li").addClass('on').find('.tree_depth_3').slideToggle(300);
                    }
	            },
	            error: function() {
	                return false;
	            }
	        });
		} else {
            // 하위가 선택되면 동작을 멈춘다.
            var cnt = $(target).next().find('.on').length;
            if(cnt > 0) {
            	return false;
            }
            fnPoint();
            if(treeDepth == 'tree_depth_3') {
	            $(target).parent("li").addClass('on').find('.tree_depth_3').slideToggle(300);
            }
		}
	}
	
	function fnTimeLineOrdr() {
		var ordrTxt = arguments[0];
		if(isNotEmpty(ordrTxt) && isNotEmpty(glReltThemCd)) {
			var searchYear = $('#SEARCH_YEAR').val();
		    fnSearchTimeLine(glReltThemCd, ordrTxt, glAllYn, '', '', searchYear);
		} else {
		    alert('올바른 요청이 아닙니다.');	
		}
	}
	
	function fnTimeLineYearSearch() {
		var searchYear = arguments[0];
		if(isNotEmpty(glReltThemCd)) {
			$('#SEARCH_YEAR').val(searchYear);
			fnSearchTimeLine(glReltThemCd, $('#ORDER_TXT').val(), glAllYn, '', '', searchYear);
        } else {
            alert('올바른 요청이 아닙니다.'); 
        }
	}
	
	function fnConnectLabel() {
		var target = arguments[0];
		$(target).next().trigger('click');
	}
	
	function fnSearchTimeLine() {
		var reltThemCd = arguments[0]; // 연관주제 코드
        var ordrTxt = isEmpty(arguments[1]) ? 'DESC' : arguments[1]; // 순번
        var allYn = isEmpty(arguments[2]) ? 'N' : arguments[2]; // 전체보기 여부
        
        glAllYn = allYn;
        glAllYn = 'N';
        var target = arguments[3]; // 타겟(this)
        var mobileYn = isEmpty(arguments[4]) ? 'N' : arguments[4]; // 모바일 여부
        if(window.innerWidth < 993) {
        	mobileYn = 'Y'
        } else {
        	mobileYn = 'N'
        }
        var searchYear = arguments[5];
        var targetParentList = $(target).parent().parent().find('li');
        var targetList = $(target).parent().parent().find('li>label');
        var allCnt = targetList.length;
        var onCnt = targetList.filter('.on').length;
        var lev3List = $('.tree_depth_1').find('li>label').filter('.lev3');
        var lev3Cnt = lev3List.length;
        var lev3OnCnt = lev3List.filter('.on').length;
        
        if( !($(target).hasClass('Y') && $(target).hasClass('on')) 
         && !$(target).hasClass('on')
         && isEmpty(searchYear)
         && lev3OnCnt > 9 ) {
        	$(target).prev().prop('checked', false);
        	alert('10개까지 선택 가능합니다.');
        	return false;
        }
        
        if($(target).hasClass('Y')) { // 전체보기
        	if($(target).hasClass('on')) { // 전제보기 해제
        		targetParentList.removeClass('active');
                targetList.removeClass('on');
                targetList.siblings('input:checkbox[name="ctgChkBox"]').prop('checked', false);
        	} else { // 전체보기 선택
        		// 전체보기 선택시 총 10개 이하로 제어
        		var curLev3Target = $(target).parent().parent().find('li>label').filter('.lev3');
        		var curLev3Cnt = curLev3Target.length;
        		var curLev3OnCnt = curLev3Target.filter('.on').length;
        		if(curLev3Cnt + lev3OnCnt - curLev3OnCnt > 10) {
        			alert('10개까지 선택 가능합니다.');
        			$(target).prev().prop('checked', false);
        			return false;
        		}
        		targetParentList.addClass('active');
                targetList.addClass('on');
        	}        
        } else {
        	if($(target).hasClass('on')) {
        		$(target).parent('li').removeClass('active');
                $(target).removeClass('on');
		        targetParentList.first().removeClass('active');
                targetList.first().removeClass('on'); // 전체 버튼 해제
        	} else {
		        $(target).parent('li').addClass('active');
		        $(target).addClass('on');
		        allCnt = targetList.length;
		        onCnt = targetList.filter('.on').length;
		        if((allCnt-1) == onCnt) {
		        	targetParentList.first().addClass('active');
	                targetList.first().addClass('on');
		        }
        	}
        }
        
        lev3OnCnt = lev3List.filter('.on').length;
        if(lev3OnCnt == 0 && mobileYn == 'N') {
        	// 초기화
        	$('#emptyDiv').hide(); // 빈 페이지
        	$('#nonEmptyDiv').show();
        	fnCtgChk();
        	
        	$('.step2').removeClass('step2').addClass('step1');
            $('.step3').removeClass('step3').addClass('step1');
            
        	$('.step1').addClass('tutorial').removeClass('step1');
        	$('.step1').addClass('step3').removeClass('step1');
        	return false;
        }
        
        var list = $('.tree_depth_1').find('li>label').filter('.lev3').filter('.on');
        var targetCd = '';
        list.each(function(k,v) {
            var dataReltThemCd = $(v).data('relt_them_cd');
            targetCd += 'I' + dataReltThemCd;
        });
        reltThemCd = targetCd;
        
        if(mobileYn == 'Y') {
        	reltThemCd = $('#M_SEARCH_RELT_THEM_CD').val();
        }
        if(isEmpty(reltThemCd)) {
        	
        } else {            
        	glStartRn = 1; // 페이징 전역 변수
            glEndRn = 20; // 페이징 전역 변수            
            if(ordrTxt == 'DESC') {
                $('#dropDownSpan1').text('최신순');
                $('#ORDER_TXT').val('DESC');
            } else if(ordrTxt == 'ASC') {
                $('#dropDownSpan1').text('과거순');
                $('#ORDER_TXT').val('ASC');
            }
            
            if(isEmpty(searchYear)) {
                $('#dropDownSpan2').text('연도');
                $('#SEARCH_YEAR').val('');
            } else {
                $('#dropDownSpan2').text(searchYear);
                $('#SEARCH_YEAR').val(searchYear);
                // 전체검색
                glStartRn = 1;
                glEndRn = 10000;
            }
            if(isNotEmpty(glSearchCteSeq)) glEndRn = 10000;
            if(mobileYn == 'Y') {
                glStartRn = 1;
                glEndRn = 10000;
            }
            $.ajax({
                type: 'GET',
                url: '/polcTmsesSrvc/them/themTimeLine?_csrf=1f37bb67-4cc6-477a-978d-85c6f35b18c1',
                data: {
                    SEARCH_RELT_THEM_CD : reltThemCd
                  , ORDER_TXT           : ordrTxt
                  , START_RN            : glStartRn
                  , END_RN              : glEndRn
                  , ALL_YN              : glAllYn
                  , SEARCH_YEAR         : searchYear
                },
                cache: false,
                async: false,
                success: function(response) {
                    if(isNotEmpty(response)) {
                    	// 년도 검색 생성
                    	if(isNotEmpty(response.searchYearList)) {
	                    	var searchYearTarget = $('#dropdownDiv2').find('ul');
	                    	var searchYearTxt = '';
	                    	searchYearTxt += '<li role="presentation">';
	                        searchYearTxt += '<a role="menuitem" tabindex="-1" href="#this" onclick="fnTimeLineYearSearch();">';
	                        searchYearTxt += '전체';
	                        searchYearTxt += '</a>';
	                        searchYearTxt += '</li>';
	                        var forCnt = response.searchYearList.length;
	                    	for(var i=0; i<forCnt; i++) {
		                    	searchYearTxt += '<li role="presentation">';
		                    	searchYearTxt += '<a role="menuitem" tabindex="-1" href="#this" onclick="fnTimeLineYearSearch(' + response.searchYearList[i].PRST_YEAR + ');">';
		                    	searchYearTxt += response.searchYearList[i].PRST_YEAR;
		                    	searchYearTxt += '</a>';
		                    	searchYearTxt += '</li>';
	                    	}
	                    	searchYearTarget.html(searchYearTxt);
                    	}
                    	
                        list.each(function(idx, data){
                            $(this).data('category_index', idx+1);
                        });
                        glReltThemCd = reltThemCd; // 전역설정
                        var cnt = response.cteList.length;
                        var txt = '';
                        if(cnt < 7) { // 7건 이하는 스크롤 버튼 삭제
                            $('#btnScroolDown').hide();
                        } else {
                            $('#btnScroolDown').show();
                        }
                        if(cnt == 0) {
                            glStartRn = 1;
                            glEndRn = 20;
                            if(isNotEmpty(glSearchCteSeq)) glEndRn = 10000;
                            $('#titleH3').html('<strong>' + response.RELT_THEM_NM + '</strong> 시계열');
                            $('#emptyDiv').show(); // 빈 페이지
                            $('#nonEmptyDiv').hide();
                            if(mobileYn == 'Y') alert('해당되는 시계열 내용이 없습니다.');
                        } else {
                            // 정책별 색표현 start
                            var themGroupCnt = response.themGroupList.length;
                            var categoryArray = [];
                            if(themGroupCnt > 1) { // 주제분류가 2건 이상일 경우
                                var categoryTxt = '';
                                for(var i=0; i<themGroupCnt; i++) {
                                    var colorIdx = $('.tree_depth_3 .N.on').eq(i).data('category_index');
                                    if(isEmpty(colorIdx)) colorIdx = i+1;
                                    categoryTxt += '<p>';
                                    categoryTxt += '<em class="color_bg' + colorIdx + '"></em>';
                                    categoryTxt += response.themGroupList[i].RELT_THEM_NM
                                    categoryTxt += '</p>';
                                    categoryArray.push(response.themGroupList[i].RELT_THEM_CD);
                                }
                                if(isNotEmpty(categoryTxt)) $('.category_box').html(categoryTxt);
                            } else {
                                categoryArray = [];
                                $('.category_box').html('');
                            }
                            // 정책별 색표현 end
                            $('#emptyDiv').hide();
                            $('#nonEmptyDiv').show();
                            glAllYn = response.cteList[0].ALL_YN;
                            glStartRn = toNumber(response.START_RN) + 20;
                            glEndRn = toNumber(response.END_RN) + 20;
                            var cteCnt = fnAddComma(toNumber(response.cteCnt));
                            $('#titleH3').html('<strong>' + response.RELT_THEM_NM + '</strong> 시계열' + '(' + cteCnt +'건)');
                            // html 생성
                            for(var i=0; i<cnt; i++) {
                                var cteSeq = response.cteList[i].CTE_SEQ;
                                var cteYear = response.cteList[i].CTE_YEAR;
                                var flag = i%2 == 0 ? true : false; // 좌우구분
                                if(i == 0) {
                                    txt += '<h4>';
                                    txt += cteYear;
                                    txt += '</h4>';
                                    txt += '<ul class="box">';
                                } else if(i > 0 && cteYear != response.cteList[i-1].CTE_YEAR) { // 년도 변경
                                    txt += '<h4>';
                                    txt += cteYear;
                                    txt += '</h4>';
                                    txt += '<ul class="box">';
                                }
                             	
                                // 2021.01.04 검색 하이라이트 설정
                                if(glSearchCteSeq == cteSeq+"") {
                                	txt += '<li class=\'cor\'>';
                                }
                                else {
                                	txt += '<li>';
                                }
                                	
                                var colorTxt = '';
                                var colorFontTxt = '';
                                if(categoryArray.length > 0) {
                                    var rn = jQuery.inArray(response.cteList[i].RELT_THEM_SML_1_CD, categoryArray);
                                    if(rn == -1) rn = jQuery.inArray(response.cteList[i].RELT_THEM_SML_2_CD, categoryArray);
                                    if(rn == -1) rn = jQuery.inArray(response.cteList[i].RELT_THEM_SML_3_CD, categoryArray);
                                    if(rn == -1) rn = 0;
                                    var colorIdx = $('.tree_depth_3 .N.on').eq(rn).data('category_index');
                                    if(isEmpty(colorIdx)) {
                                    	colorIdx = rn+1;
                                    }
                                    colorTxt = 'color_bg' + colorIdx;
                                    colorFontTxt = 'color_font' + colorIdx;
                                    txt += '<span class="tree_point ' + colorTxt + '">';
                                } else {
                                    var colorIdx = $('.tree_depth_3 .N.on').data('category_index');
                                    colorTxt = 'color_bg' + colorIdx;
                                    colorFontTxt = 'color_font' + colorIdx;
                                    txt += '<span class="tree_point ' + colorTxt + '">';
                                }
                                txt += response.cteList[i].CTE_MDT;
                                txt += '</span>';
                                if(flag) {
                                    txt += '<div class="policy_panel right">';
                                } else {
                                    txt += '<div class="policy_panel">';
                                }
                                txt += '<div class="policy_title">';
                                txt += '<a href="#this"';
                                txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                txt += ' data-cte_seq=' + "\'" + cteSeq + "\'";
                                txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'CTE\'' + ');">';
                                
                                // 2021.01.04 검색 하이라이트 설정
                                let ROW_CTE_NM = response.cteList[i].CTE_NM;
                                if(hilightTxt != "" && glSearchCteSeq == cteSeq+"") {
                                	if(ROW_CTE_NM.indexOf(hilightTxt) != -1){
                                		ROW_CTE_NM = ROW_CTE_NM.replace(hilightTxt, "<span>"+hilightTxt+"</span>");
                                	}
                                }
                                txt += ROW_CTE_NM;
//                                 txt += response.cteList[i].CTE_NM;

                                // 2020.12.22 세부내역 update 여부 표시
                                if(response.cteList[i].NEW_YN == "N"){
                                	if(response.cteList[i].UPDATE_YN == "Y"){
                                		txt += '<span class="line_ico lic01">update</span>' 
                                	}
                                }
                                else if(response.cteList[i].NEW_YN == "Y"){
                                	txt += '<span class="line_ico lic02">new</span>'
                                }
                                
                                txt += '</a>';
                                
                                if(toNumber(response.cteList[i].FRWD_EPIC_CNT) > 0) { // 추진내역 에픽이 존재 할 경우만 보인다.
                                    txt += '<button type="button" class="glyphicon glyphicon-plus ' + colorFontTxt + '"';
                                    txt += ' data-color=' + "\'" + colorTxt + "\'";
                                    txt += ' onclick="fnSearchFrwdHistEpic(this, ' + cteSeq + ')">';
                                    txt += '<span class="sr-only">후속정책 보기</span>';
                                    txt += '</button>';
                                }
                                
                                txt += '</div>';
                                
                                // 추진 내역 목록 start
                                txt += '<ul class="policy_list">';
                                txt += '</ul>';
                                // 추진 내역 목록 end
                                
                                txt += '<div class="policy_state">';
                                txt += '<ul>'; // policy_state ul start
                                
                                var frwdCnt = response.cteList[i].FRWD_CNT;
                                var frwdEpicCnt = response.cteList[i].FRWD_EPIC_CNT;
                                if(toNumber(frwdEpicCnt) > 0) {
                                    // 추진 내역 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="FRWD"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'FRWD\', ' + "\'" + frwdEpicCnt + "\'" + ');">';
                                    txt += '추진내역';
                                    txt += '<span class="num">';
                                    txt += frwdEpicCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';
                                }
                                
                                var polcCnt = response.cteList[i].POLC_CNT;
                                if(toNumber(polcCnt) > 0) {
                                    // 정책해설 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="POLC"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'POLC\', ' + "\'" + polcCnt + "\'" + ');">';
                                    txt += '정책해설';
                                    txt += '<span class="num">';
                                    txt += polcCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';                                 
                                }
                                
                                var presCnt = response.cteList[i].PRES_CNT;
                                if(toNumber(presCnt) > 0) {
                                    // 언론동향 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="PRES"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'PRES\', ' + "\'" + presCnt + "\'" + ');">';
                                    txt += '언론동향';
                                    txt += '<span class="num">';
                                    txt += presCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';
                                }
                                
                                var rschCnt = response.cteList[i].RSCH_CNT;
                                if(toNumber(rschCnt) > 0) {
                                    // 연구자료 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="RSCH"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'RSCH\', ' + "\'" + rschCnt + "\'" + ');">';
                                    txt += '연구자료';
                                    txt += '<span class="num">';
                                    txt += rschCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';
                                }
                                
                                var polCnt = response.cteList[i].POL_CNT;
                                if(toNumber(polCnt) > 0) {
                                    // 여론조사 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="POL"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'POL\', ' + "\'" + polCnt + "\'" + ');">';
                                    txt += '여론조사';
                                    txt += '<span class="num">';
                                    txt += polCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';
                                }
                                
                                var siteCnt = response.cteList[i].SITE_CNT;
                                if(toNumber(siteCnt) > 0) {
                                    // 관련사이트 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="SITE"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'SITE\', ' + "\'" + siteCnt + "\'" + ');">';
                                    txt += '관련사이트';
                                    txt += '<span class="num">';
                                    txt += siteCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';                                 
                                }
                                
                                txt += '</ul>'; // policy_state ul end
                                txt += '</div>';
                                txt += '</div>';
                                txt += '</li>';
                                
                                if(i == (cnt-1)) {
                                    txt += '</ul>';
                                } else if(i > 0 && cteYear != response.cteList[i+1].CTE_YEAR) { // 년도 변경
                                    txt += '</ul>';
                                }
                            }
                            $('#timeLineStartDiv').html(txt);
                        }
                    }
                },
                beforeSend: function() {
                    $('#loading').show();
                },
                complete: function() {
                    $('#dropdownDiv11').show(); // 정렬
                    var position = 0;
                    var $searchResultFrwd = null;
                   	if(isNotEmpty(searchYear)) {
                   		// $('.btnTop').show('slow');
                   	    position = fnTmsesFocus(searchYear);
                   	    if(position < 0) position = 0;
                   	}
                   	if(mobileYn == 'N') {
	                    $('.center_wrap .scroll_area').mCustomScrollbar('destroy');
	                    var resultScrollbar = $('.center_wrap .scroll_area').mCustomScrollbar({
	                        theme: "minimal-dark",
	                        mouseWheel: { scrollAmount: 400 },
	                        setTop: position + 'px',
	                        callbacks:{
	                            onInit:function() {                            	
	                            },
	                            onScrollStart:function(){
	                            },
	                            onScroll:function(){
	                            },
	                            onTotalScroll:function() {
	                                if(isEmpty(glSearchCteSeq) && isEmpty(searchYear) && mobileYn == 'N') {
	                                    fnSearchTimeLinePaging(glReltThemCd, $('#ORDER_TXT').val());
	                                }
	                            },
	                            onTotalScrollBack:function(){
	                            },
	                            onBeforeUpdate: function(){
	                            }
	                        }
	                    });
                   	}
                    if(isNotEmpty(searchYear) && mobileYn == 'Y') {
                        setTimeout(function(){
                        	$('html, body').animate({scrollTop : position+750}, 400);
                        }, 300);
                    }
                    if(mobileYn == 'Y') {
                    	$('#btnScroolDown').hide();
                    	// $('.btnTop').show();
                        $('.center_wrap .scroll_area').mCustomScrollbar('destroy');
                    }
                    // 상세 보기
                    if(isNotEmpty(glSearchCteSeq)) {
                        $('#timeLineStartDiv .policy_title').find('a').each(function(k,v){
                            var paramCteSeq = $(this).data('cte_seq');
                            if(paramCteSeq == glSearchCteSeq) {
                                $(this).click();
                                
                                if(glSearchType == 'FRWD') {
									var $policyStateLi = $(this).parent().siblings('.policy_state').find('li');
									$policyStateLi.each(function(idx, item) {
										var dvsn = $(item).find('a').data('dvsn');
										if(dvsn == 'FRWD') {
											$searchResultFrwd = $(item).find('a');
										}
									});
                                }
                            }
                        });
                    }
                    // 선택된 label(카테고리)에 따른 체크박스 상태 제어
                    fnCtgChk();
                    
                    fnMobileScroll();
                    
                    fnPoint();
                    
                    setTimeout(function(){
                        $('#loading').hide();
                        // 화면 보이기
                        $('.tutorial').addClass('step1').removeClass('tutorial');
                        $('.step3').addClass('step1').removeClass('step3');
                        
                        if(glSearchType == 'FRWD' && isNotEmpty($searchResultFrwd)) {
                        	$searchResultFrwd.trigger('click');
                        }
                    },100);
                    
                 	// 2021.01.07 공유하기에서 왔을 경우, click
//                 	let refurl = document.referrer;
                	if(isNotEmpty(glSearchCteSeq)){
                		setTimeout(function(){
                			fnCtePageLoad(null, glSearchCteSeq, 'CTE');
                			fnToggleSwitch($("#sideButton"));
                		}, 200);
                	}
                }, error: function() {
                    $('#loading').hide();
                    return false;
                }
            });
        }
	}
	
	function fnCtgChk() {
		$('.tree_depth_1').find('li>label').each(function(k,v) {
            if($(this).hasClass('lev3') || $(this).hasClass('Y')) {
                if($(this).hasClass('on')) {
                    $(this).siblings('input:checkbox[name="ctgChkBox"]').prop('checked', true);
                } else {
                    $(this).siblings('input:checkbox[name="ctgChkBox"]').prop('checked', false);
                }
            }
        });
	}
	
	function fnSearchTimeLinePaging() {
		var reltThemCd = arguments[0];
		var ordrTxt = isEmpty(arguments[1]) ? '' : arguments[1];
		if(isNotEmpty(reltThemCd)) {
			$.ajax({
                type: 'GET',
                url: '/polcTmsesSrvc/them/themTimeLine?_csrf=1f37bb67-4cc6-477a-978d-85c6f35b18c1',
                data: {
                	SEARCH_RELT_THEM_CD : reltThemCd
                  , ORDER_TXT           : ordrTxt
                  , START_RN            : glStartRn
                  , END_RN              : glEndRn
                  , ALL_YN              : glAllYn
                  , SEARCH_YEAR         : $('#SEARCH_YEAR').val()
                },
                cache: false,
                async: false,
                success: function(response) {
                    if(isNotEmpty(response)) {
                        glReltThemCd = reltThemCd; // 전역설정
                    	var cnt = response.cteList.length;
                        var txt = '';
                        if(cnt == 0) {
                        	glStartRn = response.START_RN;
                            glEndRn = response.END_RN;
                            // $('.btnTop').show('slow');
                            $('#btnScroolDown').hide();
                        } else {
                        	// TOP버튼
                        	// $('.btnTop').show('slow');
                        	// 정책별 색표현 start
                            var themGroupCnt = response.themGroupList.length;
                            var categoryArray = [];
                            if(themGroupCnt > 1) { // 주제분류가 2건 이상일 경우
                                var categoryTxt = '';
                                for(var i=0; i<themGroupCnt; i++) {
                                	var colorIdx = $('.tree_depth_3 .N.on').eq(i).data('category_index');
                                	if(isEmpty(colorIdx)) colorIdx = i+1;
                                    categoryTxt += '<p>';
                                    categoryTxt += '<em class="color_bg' + colorIdx + '"></em>';
                                    categoryTxt += response.themGroupList[i].RELT_THEM_NM
                                    categoryTxt += '</p>';
                                    categoryArray.push(response.themGroupList[i].RELT_THEM_CD);
                                }
                                if(isNotEmpty(categoryTxt)) $('.category_box').html(categoryTxt);
                            } else {
                                categoryArray = [];
                                $('.category_box').html('');
                            }
                            // 정책별 색표현 end
                        	glStartRn = toNumber(response.START_RN) + 20;
                            glEndRn = toNumber(response.END_RN) + 20;
                            var lastYear = response.preCteMap.CTE_YEAR;
//                             $('#titleH3').html('<strong>' + response.RELT_THEM_NM + '</strong> 시계열');
                            // html 생성
                            var appendFlag = true;
                            for(var i=0; i<cnt; i++) {
                                var cteSeq = response.cteList[i].CTE_SEQ;
                                var cteYear = response.cteList[i].CTE_YEAR;
                                var flag = i%2 == 0 ? true : false; // 좌우구분
                                if(i == 0 && cteYear == lastYear) {
                                	appendFlag = true;
                                } else if(i > 0 && cteYear == response.cteList[i-1].CTE_YEAR) {
                                	appendFlag = true;
                                } else {
                                	appendFlag = false;
                                	txt += '<h4>';
									txt += cteYear;
									txt += '</h4>';
									txt += '<ul class="box">';
                                }
                                txt += '<li>';
                                var colorTxt = '';
                                var colorFontTxt = '';
                                if(categoryArray.length > 0) {
                                    var rn = jQuery.inArray(response.cteList[i].RELT_THEM_SML_1_CD, categoryArray);
                                	if(rn == -1) rn = jQuery.inArray(response.cteList[i].RELT_THEM_SML_2_CD, categoryArray);
                                	if(rn == -1) rn = jQuery.inArray(response.cteList[i].RELT_THEM_SML_3_CD, categoryArray);
                                	if(rn == -1) rn = 0;
                                    var colorIdx = $('.tree_depth_3 .N.on').eq(rn).data('category_index');
                                    if(isEmpty(colorIdx)) {
                                        colorIdx = rn+1;
                                    }
                                    colorTxt = 'color_bg' + colorIdx;
                                    colorFontTxt = 'color_font' + colorIdx;
                                    txt += '<span class="tree_point ' + colorTxt + '">';
                                } else {
                                	var colorIdx = $('.tree_depth_3 .N.on').data('category_index');
                                	colorTxt = 'color_bg' + colorIdx;
                                    colorFontTxt = 'color_font' + colorIdx;
                                    txt += '<span class="tree_point ' + colorTxt + '">';
                                }
                                txt += response.cteList[i].CTE_MDT;
                                txt += '</span>';
                                if(flag) {
                                    txt += '<div class="policy_panel right">';
                                } else {
                                    txt += '<div class="policy_panel">';
                                }
                                txt += '<div class="policy_title">';
                                txt += '<a href="#this"';
                                txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                txt += ' data-cte_seq=' + "\'" + cteSeq + "\'";
                                txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'CTE\'' + ');">';
                                txt += response.cteList[i].CTE_NM;
                                
                             	// 2020.12.22 세부내역 update 여부 표시
                                if(response.cteList[i].NEW_YN == "N"){
                                	if(response.cteList[i].UPDATE_YN == "Y"){
                                		txt += '<span class="line_ico lic01">update</span>' 
                                	}
                                }
                                else if(response.cteList[i].NEW_YN == "Y"){
                                	txt += '<span class="line_ico lic02">new</span>'
                                }
                                
                                txt += '</a>';
                                
                                if(toNumber(response.cteList[i].FRWD_EPIC_CNT) > 0) { // 추진내역 에픽이 존재 할 경우만 보인다.
                                	txt += '<button type="button" class="glyphicon glyphicon-plus ' + colorFontTxt + '"';
                                    txt += ' data-color=' + "\'" + colorTxt + "\'";
                                    txt += ' onclick="fnSearchFrwdHistEpic(this, ' + cteSeq + ')">';
                                    txt += '<span class="sr-only">후속정책 보기</span>';
                                    txt += '</button>';
                                }
                                
                                txt += '</div>';
                                
                                // 추진 내역 목록 start
                                txt += '<ul class="policy_list">';
                                txt += '</ul>';
                                // 추진 내역 목록 end
                                
                                txt += '<div class="policy_state">';
                                txt += '<ul>'; // policy_state ul start
                                
                                var frwdCnt = response.cteList[i].FRWD_CNT;
                                var frwdEpicCnt = response.cteList[i].FRWD_EPIC_CNT;
                                if(toNumber(frwdEpicCnt) > 0) {
                                    // 추진 내역 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="FRWD"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'FRWD\', ' + "\'" + frwdEpicCnt + "\'" + ');">';
                                    txt += '추진내역';
                                    txt += '<span class="num">';
                                    txt += frwdEpicCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';
                                }
                                
                                var polcCnt = response.cteList[i].POLC_CNT;
                                if(toNumber(polcCnt) > 0) {
                                    // 정책해설 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="POLC"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'POLC\', ' + "\'" + polcCnt + "\'" + ');">';
                                    txt += '정책해설';
                                    txt += '<span class="num">';
                                    txt += polcCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';                                 
                                }
                                
                                var presCnt = response.cteList[i].PRES_CNT;
                                if(toNumber(presCnt) > 0) {
                                    // 언론동향 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="PRES"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'PRES\', ' + "\'" + presCnt + "\'" + ');">';
                                    txt += '언론동향';
                                    txt += '<span class="num">';
                                    txt += presCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';
                                }
                                
                                var rschCnt = response.cteList[i].RSCH_CNT;
                                if(toNumber(rschCnt) > 0) {
                                    // 연구자료 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="RSCH"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'RSCH\', ' + "\'" + rschCnt + "\'" + ');">';
                                    txt += '연구자료';
                                    txt += '<span class="num">';
                                    txt += rschCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';
                                }
                                
                                var polCnt = response.cteList[i].POL_CNT;
                                if(toNumber(polCnt) > 0) {
                                    // 여론조사 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="POL"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'POL\', ' + "\'" + polCnt + "\'" + ');">';
                                    txt += '여론조사';
                                    txt += '<span class="num">';
                                    txt += polCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';
                                }
                                
                                var siteCnt = response.cteList[i].SITE_CNT;
                                if(toNumber(siteCnt) > 0) {
                                    // 관련사이트 카운트
                                    txt += '<li>';
                                    txt += '<a href="#this"';
                                    txt += ' data-relt_them_cd=' + "\'" + reltThemCd + "\'";
                                    txt += ' data-all_yn=' + "\'" + glAllYn + "\'";
                                    txt += ' data-dvsn="SITE"';
                                    txt += ' onclick="fnCtePageLoad(this, ' + cteSeq + ', ' + '\'SITE\', ' + "\'" + siteCnt + "\'" + ');">';
                                    txt += '관련사이트';
                                    txt += '<span class="num">';
                                    txt += siteCnt;
                                    txt += '</span>';
                                    txt += '</a>';
                                    txt += '</li>';                                 
                                }
                                
                                txt += '</ul>'; // policy_state ul end
                                txt += '</div>';
                                txt += '</div>';
                                txt += '</li>';
                                if(appendFlag) {
                                	$('#timeLineStartDiv').find('.box').last().append(txt);
                                	txt = '';
                                } else {
                                	txt += '</ul>';
                                	$('#timeLineStartDiv').append(txt);
                                	txt = '';
                                }
                            }
                        }
                    }
                },beforeSend: function() {
                    $('#loading').show();
                },complete: function() {
                	setTimeout(function(){$('#loading').hide();},100);
                },
                error: function() {
                	$('#loading').hide();
                    return false;
                }
            });
		} else {
			alert('올바른 요청이 아닙니다.');
		}
	}	
	
	function fnMSearchTimeLine() {
		var target = arguments[0];
		if(!$(target).hasClass('dim')) {
			fnSearchTimeLine($('#M_SEARCH_RELT_THEM_CD').val(), 'DESC', 'N', '', 'Y');
		}
	}
	
	function fnSetMobile() {
		var targetTxt = arguments[0];
		$('#btnMSearchTimeLine').removeClass('dim');
        $('#mBigNm').show();
        $('#mBigNm').html($('#mBigCd option:selected').text());
        $('#mBigNm').addClass('pickItem');
        
        $('#mMidNm').show();
        $('#mMidNm').html($('#mMidCd option:selected').text());
        $('#mMidNm').addClass('pickItem');
        
        $('#mSmlNm').show();
        $('#mSmlNm').html(targetTxt);
        $('#mSmlNm').addClass('pickItem');
	}
	
	function fnTop() {
        if(window.innerWidth < 993) {
            $('html, body').animate({scrollTop : 400}, 400);
        }
        $('.center_wrap .scroll_area').mCustomScrollbar('scrollTo', 0);
    }
	
	function fnScrollDown() {
	    $('.center_wrap .scroll_area').mCustomScrollbar('scrollTo', -99999999);
	    if(window.innerWidth < 993) {
	        fnSearchTimeLinePaging(glReltThemCd, $('#ORDER_TXT').val());
	    }
	}
	
	function fnPoint() {
		$('.tree_depth_1 > li').not('.dim').find('.tree_depth_2').find('li').removeClass('on');
		$('.tree_depth_1 > li').not('.dim').find('.tree_depth_2').find('.lev3.on').each(function(k,v){
			var target = $(this).parent().parent().parent();
			target.addClass('on');
		});
	}
	
	function fnExcelPrint() {
		if(isEmpty(glReltThemCd)) {
			alert('선택된 주제가 없습니다.');
		} else {
			$('#EXCEL_SEARCH_RELT_THEM_CD').val(glReltThemCd);
			$('#excelForm').submit();
		}
	}
	
	var timer = null;
	$(window).on('resize', function() {
		var windowHeight = $(window).height();
        $("#timeline").css({
            height: windowHeight - 128
        });
        var bodyHeight = $("body").height();
        $("#gnbMobile").css({
            height: bodyHeight 
        });
        clearTimeout(timer);
        timer = setTimeout(fnPageResize, 300);
    });
	
	$(document).ready(function() {
		
		let dep1 = '';
		let dep2 = '';
		let dep3 = '';
		
		if ( dep1 != '' && dep2 != '' && dep3 != '' ) fnSetReSearchCode(dep1, dep2, dep3,'N' ,'them', 'N');
		
		$('[data-toggle="tooltip"]').tooltip();
		
		var windowHeight = $(window).height();
        $('#timeline').css({
            height: windowHeight - 128
        });
		
		$(".left_wrap .scroll_area").mCustomScrollbar({
		    theme: "minimal-dark",
            mouseWheel: { scrollAmount: 400 },
            callbacks:{
                onInit:function() {
                    var tempId = $(this).find('div').first().attr('id');
//                     $('#' + tempId + '_dragger_vertical').css('width', '20px');
//                     $('#' + tempId + '_dragger_vertical').css('left', '1px');
//                     $('.scroll_area.mCustomScrollbar').first().css('width', '98%');
                },
                onScrollStart:function(){
                	
                },
                onScroll:function(){
                },
                onTotalScroll:function() {
                },
                onTotalScrollBack:function(){
                }
            }
        });
		
		// 타임 라인 스크롤
        $('.center_wrap .scroll_area').mCustomScrollbar({
            theme: "minimal-dark",
            mouseWheel: { scrollAmount: 400 },
            callbacks:{
            	onInit:function() {
            	},
            	onScrollStart:function(){
            	},
            	onScroll:function(){
            	},
            	onTotalScroll:function() {
                    fnSearchTimeLinePaging(glReltThemCd, $('#ORDER_TXT').val());
                },
                onTotalScrollBack:function(){
                }
            }
        });
		
        // 1레벨 주제
		$('#timeline .tree_depth_1>li>a').click(function(e) {
			var target = $(e.target);
			var targetSub = target.parent();
			if(target.hasClass('curout') || targetSub.hasClass('curout')) {
				return false;
			} else {
	            $(this).parent('li').siblings('li').removeClass('on');
	            $('#timeline .tree_depth_2>li').removeClass('on');
	            fnPoint();
	            $(this).parent('li').addClass('on').find('.tree_depth_2').slideToggle(300);
			}
        });
		
		$('.m_policy_top button').click(function () {
            $('.step2').addClass('step1').removeClass('step2');
            $('.step3').addClass('step1').removeClass('step3');
        });
		
		var bigCd = '';
        var midCd = '';
        var smlCd = '';
        var midAllYn = '';
        if(isNotEmpty(bigCd) && isNotEmpty(midCd)) {
            // pc start
        	$('#timeline .tree_depth_1').find('li>a').each(function(k,v){
            	var reltThemCd = $(this).data('relt_them_cd');
            	if(reltThemCd == bigCd) {
            		$(this).click();
            	}
            });
           	$('#timeline .tree_depth_2').find('li>a').each(function(k,v){
            	var reltThemCd = $(this).data('relt_them_cd');
            	if(reltThemCd == midCd) {
            		$(this).click();
            	}
           	});
            $('#timeline .tree_depth_3').find('li>label').each(function(k,v){
                var reltThemCd = $(this).data('relt_them_cd');
                if(midAllYn == 'Y') {
	                if(midCd.indexOf(reltThemCd) > -1) {
	                    $(this).click();
	                }
                } else {
	                if(smlCd.indexOf(reltThemCd) > -1) {
	                    $(this).click();
	                }
                }
            });
            // pc end
            // mobile start
            $('#mBigCd option').each(function(k,v){
            	if(bigCd == $(v).val()) {
            		$(v).prop('selected', true);
            	}
            });
            var keyTxt = '';
            var nmTxt = '';
            var mSmlCnt = $('#mSmlCd option').length;
            $('#mSmlCd option').each(function(k,v){
            	if(midAllYn == 'Y') {
            		$(v).prop('selected', true);
            		if(k == 0) {
            			keyTxt = $(v).val();
            			nmTxt = $(v).text();
            		} else {
            			keyTxt += ('I' + $(v).val());
            			nmTxt += (', ' + $(v).text());
            		}
            		if(k == (mSmlCnt-1)) {
	            		$('#M_SEARCH_RELT_THEM_CD').val(keyTxt);
	            	    fnSetMobile(nmTxt);
            		}
            	} else {
	            	if(smlCd.indexOf($(v).val()) > -1) {
	            		$(v).prop('selected', true);
	            		$('#M_SEARCH_RELT_THEM_CD').val(smlCd);
	            	    fnSetMobile($(v).text());
	            	}
            	}
            });
            if(window.innerWidth < 993) {
	            $('#btnMSearchTimeLine').click();
            }
            // mobile end
        }
	});
</script>

<input type="hidden" id="ORDER_TXT" name="ORDER_TXT" value="DESC">
<input type="hidden" id="SEARCH_YEAR" name="SEARCH_YEAR" value="">
<input type="hidden" id="M_SEARCH_RELT_THEM_CD" name="M_SEARCH_RELT_THEM_CD" value="">

<div id="timeline">
    <div class="left_wrap tutorial">
        <div class="scroll_area">
            <div class="nav_title">
                <h3 class="tit tit_topic">주제별 보기</h3> 
            </div>
            <div class="tree_box">
                <ul class="tree_depth_1">
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00001');" data-relt_them_cd="RELT_THEM00001">
	                            <i>하위폴더 열림</i>거시경제/재정
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00002');" data-relt_them_cd="RELT_THEM00002">
	                            <i>하위폴더 열림</i>금융통화
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00078');" data-relt_them_cd="RELT_THEM00078">
	                            <i>하위폴더 열림</i>산업/무역/공정거래
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00084');" data-relt_them_cd="RELT_THEM00084">
	                            <i>하위폴더 열림</i>국토교통
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00081');" data-relt_them_cd="RELT_THEM00081">
	                            <i>하위폴더 열림</i>과학기술/정보통신
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00079');" data-relt_them_cd="RELT_THEM00079">
	                            <i>하위폴더 열림</i>고용노동
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00080');" data-relt_them_cd="RELT_THEM00080">
	                            <i>하위폴더 열림</i>보건복지
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00082');" data-relt_them_cd="RELT_THEM00082">
	                            <i>하위폴더 열림</i>환경/자원
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
	                    <li >
	                        <a href="#this"  onclick="fnSearchSubList(this, 'RELT_THEM00083');" data-relt_them_cd="RELT_THEM00083">
	                            <i>하위폴더 열림</i>농축수산
	                        </a>
	                        <ul class="tree_depth_2">
	                            
	                        </ul>
	                    </li>
                    
                </ul>
            </div>
            <div class="m_tree_box">
                <div class="select_wrap">
                    <label for="mBigCd" class="stage">1단계</label>
                    <span class="caret"></span>
                    <select id="mBigCd" onchange="fnGetSubCode(this, 'Lv1');">
                        <option value="">-선택-</option>
                        
	                        <option value="RELT_THEM00001">거시경제/재정</option>
                        
	                        <option value="RELT_THEM00002">금융통화</option>
                        
	                        <option value="RELT_THEM00078">산업/무역/공정거래</option>
                        
	                        <option value="RELT_THEM00084">국토교통</option>
                        
	                        <option value="RELT_THEM00081">과학기술/정보통신</option>
                        
	                        <option value="RELT_THEM00079">고용노동</option>
                        
	                        <option value="RELT_THEM00080">보건복지</option>
                        
	                        <option value="RELT_THEM00082">환경/자원</option>
                        
	                        <option value="RELT_THEM00083">농축수산</option>
                        
                    </select>
                </div>
                <div class="select_wrap">
                    <label for="mMidCd" class="stage">2단계</label>
                    <span class="caret"></span>
                    <select id="mMidCd" onchange="fnGetSubCode(this, 'Lv2');">
                        
                    </select>
                </div>
                <div class="select_wrap">
                    <label for="mSmlCd" class="stage">3단계</label>
                    <span class="caret"></span>
                    <select id="mSmlCd" onchange="fnGetSubCode(this, 'Lv3');" multiple="multiple">
                        
                    </select>
                </div>
                <span id="mBigNm" style="display:none;"></span>
                <span id="mMidNm" style="display:none;"></span>
                <span id="mSmlNm" style="display:none;"></span>
                <button type="button" id="btnMSearchTimeLine" class="dim" onclick="fnMSearchTimeLine(this);">시계열 보기</button>
            </div>
        </div>
	</div>
	<div class="leftSwitch switch tutorial">
        <img src="/resources/images/timetree_txt02.png" alt="주제 검색을 원하시면 클릭하세요">
        <button type="button" onclick="fnToggleSwitch(this);" id="sideButton">
            <i class="glyphicon glyphicon-menu-right"></i><span class="sr-only">열기</span>
        </button>
	</div>
    
    <!-- 빈 페이지 -->
    <div id="emptyDiv" class="center_wrap step1 empty_center" style="display:none;">
        <p class="inform">해당되는 시계열 내용이 없습니다.</p>
    </div>
    <div id="nonEmptyDiv" class="center_wrap tutorial">
        <div class="guide"><strong>시계열 화면</strong>
            <p>선택한 주제의 경제 정책을<br>시계열 형태로 보여줍니다.</p>
            <img src="/resources/images/timetree_guide1.png" alt="">
        </div>
        <div class="timeline_top">
            <h3 id="titleH3">
                <strong>경제정책방향</strong>시계열
            </h3>
            <div class="dropdownDIV clearfix">
                <div class="download_excel">
                    <a class="btn btn-default" role="button" href="javascript:fnExcelPrint();"> 
                        <span>다운로드</span>
                        <i class="icon_excel"></i>
                    </a>
                </div>
	            <div id="dropdownDiv2" class="dropdown year">
	                <button class="dropdown-toggle" type="button" id="dropdownMenu2" data-toggle="dropdown" aria-expanded="true"> 
	                    <span id="dropDownSpan2">연도</span> 
	                    <span class="glyphicon glyphicon-menu-down"></span> 
	                </button>
	                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu2"></ul>
	            </div>
	            <div id="dropdownDiv1" class="dropdown">
	                <button class="dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-expanded="true"> 
	                    <span id="dropDownSpan1">최신순</span> 
	                    <span class="glyphicon glyphicon-menu-down"></span> 
	                </button>
	                <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu1">
	                    <li role="presentation">
	                        <a role="menuitem" tabindex="-1" href="#this" onclick="fnTimeLineOrdr('DESC');">최신순</a>
	                    </li>
	                    <li role="presentation">
	                        <a role="menuitem" tabindex="-1" href="#this" onclick="fnTimeLineOrdr('ASC');">과거순</a>
	                    </li>
	                </ul>
	            </div>
            </div>
            <div class="category_box"></div>
        </div>
        <div class="controller">
            <div class="wrap">
                <button type="button" id="btnScroolDown" class="down" onclick="fnScrollDown();">
                    <span class="sr-only">아래로</span>
                </button>
                <button class="btnTop" onclick="fnTop(this);"><span>TOP</span></button>
            </div>
        </div>

        <div class="scroll_area">
            <div class="timeline_wrap">  
                <div id="timeLineStartDiv" class="tree_wrap"><!-- 시계열 시작 -->
                </div>
            </div>
        </div>
    </div>
	<div class="centerSwitch switch tutorial">
	    <button type="button" id="btnRightSwitch" onclick="fnRightSwitch();">
            <i class="glyphicon glyphicon-menu-right"></i><span class="sr-only">닫기</span>
        </button>
	</div>
	<div id="cteArrowDiv" class="centerSwitch switch detail tutorial" style="display:none;">
        <button type="button" onclick="fnLeftSwitch();">
            <i class="glyphicon glyphicon-menu-right"></i><span class="sr-only">열기</span>
        </button>
    </div>
    <div class="rightSwitch switch tutorial">
        <img src="/resources/images/timetree_txt01.png" alt="시계열의 정책을 클릭하시면 상세내용을 확인하실 수 있습니다.">
    </div>
    <!-- 모바일 타임라인 목록 -->
    <div class="m_policy_top tutorial">
        <button type="button" data-spy="affix" data-offset-top="60"><span class="container">&lt; 시계열 화면으로 돌아가기</span></button>
        <div class="container">
            <div class="location">
                <p class="label">선택주제</p>
                <ul>
                    <li id="mReltThemBigNm"></li>
                    <li id="mReltThemMidNm"></li>
                    <li id="mReltThemSmlNm"></li>
                </ul>
            </div>
            <label for="mTimeLineList" class="sr-only">대책 리스트</label>
            <select id="mTimeLineList" onchange="fnMTimeReSearch(this);"></select>
        </div>
    </div>
    <!-- 우측 -->
    <div id="cteDiv" class="right_wrap tutorial">
        <div class="guide">
            <strong>상세 화면</strong>
            <p>시계열에서 선택한 정책의 상세내용(추진내역, 정책해설, 언론동향,<br>연구자료, 여론조사, 관련사이트)을 보여줍니다.</p>
            <img src="/resources/images/timetree_guide2.png" alt="">
        </div>
    </div>
    <!-- 우측 -->
</div>

<!-- 모달 -->
<div id="policyModal" class="modal fade" tabindex="-1" aria-hidden="true"></div>

<!-- 유튜브 모달 -->
<div id="mediaPop" class="modal fade media_modal_pop" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <img src="/resources/images/modal_close.png" alt="모달창 닫기">
        </button>
        <iframe id="youtubeFrame" width="500" height="375" src="" title="동영상 보기" frameborder="0" allowfullscreen></iframe>
    </div>
</div>

<form id="reSearchForm" name="reSearchForm" action="" method="post">
    <input type="hidden" name="_csrf" value="1f37bb67-4cc6-477a-978d-85c6f35b18c1">
    <input type="hidden" id="BIG_CD" name="BIG_CD" value="">
    <input type="hidden" id="MID_CD" name="MID_CD" value="">
    <input type="hidden" id="SML_CD" name="SML_CD" value="">
    <input type="hidden" id="MID_ALL_YN" name="MID_ALL_YN" value="N">
</form>

<form id="excelForm" name="excelForm" action="/polcTmsesSrvc/them/themTimeLine/excel" method="post">
    <input type="hidden" name="_csrf" value="1f37bb67-4cc6-477a-978d-85c6f35b18c1">
    <input type="hidden" id="EXCEL_SEARCH_RELT_THEM_CD" name="EXCEL_SEARCH_RELT_THEM_CD" value="">
</form>
	    <!-- //body -->

	    <!-- footer -->
        


<footer id="footer">
    <div class="link">
        <ul class="container">
            <li>
                <a href="http://www.kdi.re.kr/information/newsletter_info.jsp" target="_blank">뉴스레터 신청</a>
            </li>
            <li>
                <a href="http://eiec.kdi.re.kr/policy/material/list.jsp" target="_blank">경제정책정보</a>
            </li>
            <li>
                <a href="https://www.youtube.com/channel/UCHxHoZe4t1lq8IpBnlTHgiw" target="_blank">유튜브</a>
            </li>
            <li class="dropdown dropup">
                <a href="" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">관련사이트</a>
                <ul class="dropdown-menu">
                    <li>
                        <a href="http://www.kdi.re.kr" target="_blank">한국개발연구원</a>
                    </li>
                    <li>
                        <a href="http://eiec.kdi.re.kr" target="_blank">경제정보센터</a>
                    </li>
                    <li>
                        <a href="http://pimac.kdi.re.kr" target="_blank">공공투자관리센터</a>
                    </li>
                    <li>
                        <a href="http://cid.kdi.re.kr" target="_blank">국제개발협력센터</a>
                    </li>
                    <li>
                        <a href="http://www.kdischool.ac.kr" target="_blank">국제정책대학원</a>
                    </li>
                </ul>
            </li>      
        </ul>
    </div>
    <div class="container footer_wrap">
        <div class="service-list">
            <a class="fir" href="/useGuid/pageView/468">개인정보취급방침</a>
            <a href="/useGuid/pageView/469">이용약관</a>
            <a href="/useGuid/pageView/470">이메일무단수집거부</a>
        </div>
        <address class="address">
            <p>세종특별자치시 남세종로 263 Tel: 044-550-4114</p>
        </address>
        <p class="copyright">COPYRIGHT © 2017 KOREA DEVELOPMENT INSTITUTE ALL RIGHTS RESERVED</p>
    </div>
</footer>

<div id="loading" style="display:none;">
    <img src="/resources/images/loading.gif" alt="로딩 중">
</div>
	    <!-- //footer -->
    </body>
</html>